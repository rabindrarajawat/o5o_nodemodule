{"ast":null,"code":"import { assertAccountExists } from '../../../types/Account.mjs';\nimport { toCandyGuard } from '../models/CandyGuard.mjs'; // -----------------\n// Operation\n// -----------------\n\nconst Key = 'FindCandyGuardByAddressOperation';\n/**\n * Find an existing Candy Guard by its address.\n *\n * ```ts\n * const candyGuard = await metaplex\n *   .candyMachines()\n *   .findCandyGuardbyAddress({ address };\n * ```\n *\n * @group Operations\n * @category Constructors\n */\n\nconst findCandyGuardByAddressOperation = _findCandyGuardByAddressOperation; // eslint-disable-next-line @typescript-eslint/naming-convention\n\nfunction _findCandyGuardByAddressOperation(input) {\n  return {\n    key: Key,\n    input\n  };\n}\n\n_findCandyGuardByAddressOperation.key = Key;\n/**\n * @group Operations\n * @category Types\n */\n\n/**\n * @group Operations\n * @category Handlers\n */\n\nconst findCandyGuardByAddressOperationHandler = {\n  handle: async (operation, metaplex, scope) => {\n    const {\n      address\n    } = operation.input;\n    const account = await metaplex.rpc().getAccount(address, scope.commitment);\n    assertAccountExists(account);\n    return toCandyGuard(account, metaplex);\n  }\n};\nexport { findCandyGuardByAddressOperation, findCandyGuardByAddressOperationHandler };","map":{"version":3,"sources":["../../../../../src/plugins/candyMachineModule/operations/findCandyGuardByAddress.ts"],"names":["Key","findCandyGuardByAddressOperation","_findCandyGuardByAddressOperation","input","key","findCandyGuardByAddressOperationHandler","handle","operation","metaplex","scope","address","account","rpc","getAccount","commitment","assertAccountExists","toCandyGuard"],"mappings":";yDAWA;AACA;AACA;;AAEA,MAAMA,GAAG,GAAG,kCAAZ;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACO,MAAMC,gCAAgC,GAC3CC,iCADK,C,CAEP;;AACA,SAASA,iCAAT,CAEEC,KAFF,EAE4E;EAC1E,OAAO;IAAEC,GAAG,EAAEJ,GAAP;IAAYG;EAAZ,CAAP;AACF;;AACAD,iCAAiC,CAACE,GAAlCF,GAAwCF,GAAxCE;AAEA;AACA;AACA;AACA;;AAcA;AACA;AACA;AACA;;AACO,MAAMG,uCAA2F,GACtG;EACEC,MAAM,EAAE,OACNC,SADM,EAENC,QAFM,EAGNC,KAHM,KAIqB;IAC3B,MAAM;MAAEC;IAAF,IAAcH,SAAS,CAACJ,KAA9B;IACA,MAAMQ,OAAO,GAAG,MAAMH,QAAQ,CAC3BI,GADmBJ,GAEnBK,UAFmBL,CAERE,OAFQF,EAECC,KAAK,CAACK,UAFPN,CAAtB;IAGAO,mBAAmB,CAACJ,OAAD,CAAnBI;IAEA,OAAOC,YAAY,CAAIL,OAAJ,EAAaH,QAAb,CAAnB;EACF;AAbF,CADK","sourcesContent":["import { PublicKey } from '@solana/web3.js';\nimport { CandyGuardsSettings, DefaultCandyGuardSettings } from '../guards';\nimport { CandyGuard, toCandyGuard } from '../models';\nimport {\n  assertAccountExists,\n  Operation,\n  OperationHandler,\n  OperationScope,\n} from '@/types';\nimport { Metaplex } from '@/Metaplex';\n\n// -----------------\n// Operation\n// -----------------\n\nconst Key = 'FindCandyGuardByAddressOperation' as const;\n\n/**\n * Find an existing Candy Guard by its address.\n *\n * ```ts\n * const candyGuard = await metaplex\n *   .candyMachines()\n *   .findCandyGuardbyAddress({ address };\n * ```\n *\n * @group Operations\n * @category Constructors\n */\nexport const findCandyGuardByAddressOperation =\n  _findCandyGuardByAddressOperation;\n// eslint-disable-next-line @typescript-eslint/naming-convention\nfunction _findCandyGuardByAddressOperation<\n  T extends CandyGuardsSettings = DefaultCandyGuardSettings\n>(input: FindCandyGuardByAddressInput): FindCandyGuardByAddressOperation<T> {\n  return { key: Key, input };\n}\n_findCandyGuardByAddressOperation.key = Key;\n\n/**\n * @group Operations\n * @category Types\n */\nexport type FindCandyGuardByAddressOperation<\n  T extends CandyGuardsSettings = DefaultCandyGuardSettings\n> = Operation<typeof Key, FindCandyGuardByAddressInput, CandyGuard<T>>;\n\n/**\n * @group Operations\n * @category Inputs\n */\nexport type FindCandyGuardByAddressInput = {\n  /** The Candy Guard address. */\n  address: PublicKey;\n};\n\n/**\n * @group Operations\n * @category Handlers\n */\nexport const findCandyGuardByAddressOperationHandler: OperationHandler<FindCandyGuardByAddressOperation> =\n  {\n    handle: async <T extends CandyGuardsSettings = DefaultCandyGuardSettings>(\n      operation: FindCandyGuardByAddressOperation,\n      metaplex: Metaplex,\n      scope: OperationScope\n    ): Promise<CandyGuard<T>> => {\n      const { address } = operation.input;\n      const account = await metaplex\n        .rpc()\n        .getAccount(address, scope.commitment);\n      assertAccountExists(account);\n\n      return toCandyGuard<T>(account, metaplex);\n    },\n  };\n"]},"metadata":{},"sourceType":"module"}