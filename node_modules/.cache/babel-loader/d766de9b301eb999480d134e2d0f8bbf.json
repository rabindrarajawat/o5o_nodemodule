{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getTransferFeeAmount = exports.getTransferFeeConfig = exports.TRANSFER_FEE_AMOUNT_SIZE = exports.TransferFeeAmountLayout = exports.TRANSFER_FEE_CONFIG_SIZE = exports.TransferFeeConfigLayout = exports.transferFeeLayout = exports.ONE_IN_BASIS_POINTS = exports.MAX_FEE_BASIS_POINTS = void 0;\n\nconst buffer_layout_1 = require(\"@solana/buffer-layout\");\n\nconst buffer_layout_utils_1 = require(\"@solana/buffer-layout-utils\");\n\nconst extensionType_js_1 = require(\"../extensionType.js\");\n\nexports.MAX_FEE_BASIS_POINTS = 10000;\nexports.ONE_IN_BASIS_POINTS = exports.MAX_FEE_BASIS_POINTS;\n/** Buffer layout for de/serializing a transfer fee */\n\nfunction transferFeeLayout(property) {\n  return (0, buffer_layout_1.struct)([(0, buffer_layout_utils_1.u64)('epoch'), (0, buffer_layout_utils_1.u64)('maximumFee'), (0, buffer_layout_1.u16)('transferFeeBasisPoints')], property);\n}\n\nexports.transferFeeLayout = transferFeeLayout;\n/** Buffer layout for de/serializing a transfer fee config extension */\n\nexports.TransferFeeConfigLayout = (0, buffer_layout_1.struct)([(0, buffer_layout_utils_1.publicKey)('transferFeeConfigAuthority'), (0, buffer_layout_utils_1.publicKey)('withdrawWithheldAuthority'), (0, buffer_layout_utils_1.u64)('withheldAmount'), transferFeeLayout('olderTransferFee'), transferFeeLayout('newerTransferFee')]);\nexports.TRANSFER_FEE_CONFIG_SIZE = exports.TransferFeeConfigLayout.span;\n/** Buffer layout for de/serializing */\n\nexports.TransferFeeAmountLayout = (0, buffer_layout_1.struct)([(0, buffer_layout_utils_1.u64)('withheldAmount')]);\nexports.TRANSFER_FEE_AMOUNT_SIZE = exports.TransferFeeAmountLayout.span;\n\nfunction getTransferFeeConfig(mint) {\n  const extensionData = (0, extensionType_js_1.getExtensionData)(extensionType_js_1.ExtensionType.TransferFeeConfig, mint.tlvData);\n\n  if (extensionData !== null) {\n    return exports.TransferFeeConfigLayout.decode(extensionData);\n  } else {\n    return null;\n  }\n}\n\nexports.getTransferFeeConfig = getTransferFeeConfig;\n\nfunction getTransferFeeAmount(account) {\n  const extensionData = (0, extensionType_js_1.getExtensionData)(extensionType_js_1.ExtensionType.TransferFeeAmount, account.tlvData);\n\n  if (extensionData !== null) {\n    return exports.TransferFeeAmountLayout.decode(extensionData);\n  } else {\n    return null;\n  }\n}\n\nexports.getTransferFeeAmount = getTransferFeeAmount;","map":{"version":3,"sources":["../../../../src/extensions/transferFee/state.ts"],"names":[],"mappings":";;;;;;;AACA,MAAA,eAAA,GAAA,OAAA,CAAA,uBAAA,CAAA;;AACA,MAAA,qBAAA,GAAA,OAAA,CAAA,6BAAA,CAAA;;AAIA,MAAA,kBAAA,GAAA,OAAA,CAAA,qBAAA,CAAA;;AAEa,OAAA,CAAA,oBAAA,GAAuB,KAAvB;AACA,OAAA,CAAA,mBAAA,GAA8B,OAAA,CAAA,oBAA9B;AA6Bb;;AACA,SAAgB,iBAAhB,CAAkC,QAAlC,EAAmD;EAC/C,OAAO,CAAA,GAAA,eAAA,CAAA,MAAA,EAAoB,CAAC,CAAA,GAAA,qBAAA,CAAA,GAAA,EAAI,OAAJ,CAAD,EAAe,CAAA,GAAA,qBAAA,CAAA,GAAA,EAAI,YAAJ,CAAf,EAAkC,CAAA,GAAA,eAAA,CAAA,GAAA,EAAI,wBAAJ,CAAlC,CAApB,EAAsF,QAAtF,CAAP;AACH;;AAFD,OAAA,CAAA,iBAAA,GAAA,iBAAA;AAIA;;AACa,OAAA,CAAA,uBAAA,GAA0B,CAAA,GAAA,eAAA,CAAA,MAAA,EAA0B,CAC7D,CAAA,GAAA,qBAAA,CAAA,SAAA,EAAU,4BAAV,CAD6D,EAE7D,CAAA,GAAA,qBAAA,CAAA,SAAA,EAAU,2BAAV,CAF6D,EAG7D,CAAA,GAAA,qBAAA,CAAA,GAAA,EAAI,gBAAJ,CAH6D,EAI7D,iBAAiB,CAAC,kBAAD,CAJ4C,EAK7D,iBAAiB,CAAC,kBAAD,CAL4C,CAA1B,CAA1B;AAQA,OAAA,CAAA,wBAAA,GAA2B,OAAA,CAAA,uBAAA,CAAwB,IAAnD;AAOb;;AACa,OAAA,CAAA,uBAAA,GAA0B,CAAA,GAAA,eAAA,CAAA,MAAA,EAA0B,CAAC,CAAA,GAAA,qBAAA,CAAA,GAAA,EAAI,gBAAJ,CAAD,CAA1B,CAA1B;AACA,OAAA,CAAA,wBAAA,GAA2B,OAAA,CAAA,uBAAA,CAAwB,IAAnD;;AAEb,SAAgB,oBAAhB,CAAqC,IAArC,EAA+C;EAC3C,MAAM,aAAa,GAAG,CAAA,GAAA,kBAAA,CAAA,gBAAA,EAAiB,kBAAA,CAAA,aAAA,CAAc,iBAA/B,EAAkD,IAAI,CAAC,OAAvD,CAAtB;;EACA,IAAI,aAAa,KAAK,IAAtB,EAA4B;IACxB,OAAO,OAAA,CAAA,uBAAA,CAAwB,MAAxB,CAA+B,aAA/B,CAAP;EACH,CAFD,MAEO;IACH,OAAO,IAAP;EACH;AACJ;;AAPD,OAAA,CAAA,oBAAA,GAAA,oBAAA;;AASA,SAAgB,oBAAhB,CAAqC,OAArC,EAAqD;EACjD,MAAM,aAAa,GAAG,CAAA,GAAA,kBAAA,CAAA,gBAAA,EAAiB,kBAAA,CAAA,aAAA,CAAc,iBAA/B,EAAkD,OAAO,CAAC,OAA1D,CAAtB;;EACA,IAAI,aAAa,KAAK,IAAtB,EAA4B;IACxB,OAAO,OAAA,CAAA,uBAAA,CAAwB,MAAxB,CAA+B,aAA/B,CAAP;EACH,CAFD,MAEO;IACH,OAAO,IAAP;EACH;AACJ;;AAPD,OAAA,CAAA,oBAAA,GAAA,oBAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getTransferFeeAmount = exports.getTransferFeeConfig = exports.TRANSFER_FEE_AMOUNT_SIZE = exports.TransferFeeAmountLayout = exports.TRANSFER_FEE_CONFIG_SIZE = exports.TransferFeeConfigLayout = exports.transferFeeLayout = exports.ONE_IN_BASIS_POINTS = exports.MAX_FEE_BASIS_POINTS = void 0;\nconst buffer_layout_1 = require(\"@solana/buffer-layout\");\nconst buffer_layout_utils_1 = require(\"@solana/buffer-layout-utils\");\nconst extensionType_js_1 = require(\"../extensionType.js\");\nexports.MAX_FEE_BASIS_POINTS = 10000;\nexports.ONE_IN_BASIS_POINTS = exports.MAX_FEE_BASIS_POINTS;\n/** Buffer layout for de/serializing a transfer fee */\nfunction transferFeeLayout(property) {\n    return (0, buffer_layout_1.struct)([(0, buffer_layout_utils_1.u64)('epoch'), (0, buffer_layout_utils_1.u64)('maximumFee'), (0, buffer_layout_1.u16)('transferFeeBasisPoints')], property);\n}\nexports.transferFeeLayout = transferFeeLayout;\n/** Buffer layout for de/serializing a transfer fee config extension */\nexports.TransferFeeConfigLayout = (0, buffer_layout_1.struct)([\n    (0, buffer_layout_utils_1.publicKey)('transferFeeConfigAuthority'),\n    (0, buffer_layout_utils_1.publicKey)('withdrawWithheldAuthority'),\n    (0, buffer_layout_utils_1.u64)('withheldAmount'),\n    transferFeeLayout('olderTransferFee'),\n    transferFeeLayout('newerTransferFee'),\n]);\nexports.TRANSFER_FEE_CONFIG_SIZE = exports.TransferFeeConfigLayout.span;\n/** Buffer layout for de/serializing */\nexports.TransferFeeAmountLayout = (0, buffer_layout_1.struct)([(0, buffer_layout_utils_1.u64)('withheldAmount')]);\nexports.TRANSFER_FEE_AMOUNT_SIZE = exports.TransferFeeAmountLayout.span;\nfunction getTransferFeeConfig(mint) {\n    const extensionData = (0, extensionType_js_1.getExtensionData)(extensionType_js_1.ExtensionType.TransferFeeConfig, mint.tlvData);\n    if (extensionData !== null) {\n        return exports.TransferFeeConfigLayout.decode(extensionData);\n    }\n    else {\n        return null;\n    }\n}\nexports.getTransferFeeConfig = getTransferFeeConfig;\nfunction getTransferFeeAmount(account) {\n    const extensionData = (0, extensionType_js_1.getExtensionData)(extensionType_js_1.ExtensionType.TransferFeeAmount, account.tlvData);\n    if (extensionData !== null) {\n        return exports.TransferFeeAmountLayout.decode(extensionData);\n    }\n    else {\n        return null;\n    }\n}\nexports.getTransferFeeAmount = getTransferFeeAmount;\n//# sourceMappingURL=state.js.map"]},"metadata":{},"sourceType":"script"}