{"ast":null,"code":"import React, { useLayoutEffect, useRef } from 'react';\nexport const Collapse = _ref => {\n  let {\n    id: id,\n    children: children,\n    expanded = false\n  } = _ref;\n  const ref = useRef(null);\n  const instant = useRef(true);\n  const transition = 'height 250ms ease-out';\n\n  const openCollapse = () => {\n    const node = ref.current;\n    if (!node) return;\n    requestAnimationFrame(() => {\n      node.style.height = node.scrollHeight + 'px';\n    });\n  };\n\n  const closeCollapse = () => {\n    const node = ref.current;\n    if (!node) return;\n    requestAnimationFrame(() => {\n      node.style.height = node.offsetHeight + 'px';\n      node.style.overflow = 'hidden';\n      requestAnimationFrame(() => {\n        node.style.height = '0';\n      });\n    });\n  };\n\n  useLayoutEffect(() => {\n    if (expanded) {\n      openCollapse();\n    } else {\n      closeCollapse();\n    }\n  }, [expanded]);\n  useLayoutEffect(() => {\n    const node = ref.current;\n    if (!node) return;\n\n    function handleComplete() {\n      if (!node) return;\n      node.style.overflow = expanded ? 'initial' : 'hidden';\n\n      if (expanded) {\n        node.style.height = 'auto';\n      }\n    }\n\n    function handleTransitionEnd(event) {\n      if (node && event.target === node && event.propertyName === 'height') {\n        handleComplete();\n      }\n    }\n\n    if (instant.current) {\n      handleComplete();\n      instant.current = false;\n    }\n\n    node.addEventListener('transitionend', handleTransitionEnd);\n    return () => node.removeEventListener('transitionend', handleTransitionEnd);\n  }, [expanded]);\n  return React.createElement(\"div\", {\n    children: children,\n    className: \"wallet-adapter-collapse\",\n    id: id,\n    ref: ref,\n    role: \"region\",\n    style: {\n      height: 0,\n      transition: instant.current ? undefined : transition\n    }\n  });\n};","map":{"version":3,"sources":["../src/Collapse.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAP,IAAoB,eAApB,EAAqC,MAArC,QAAmD,OAAnD;AAOA,OAAO,MAAM,QAAQ,GAAsB,QAAuC;EAAA,IAAtC;IAAE,EAAE,EAAF,EAAF;IAAM,QAAQ,EAAR,QAAN;IAAgB,QAAQ,GAAG;EAA3B,CAAsC;EAC9E,MAAM,GAAG,GAAG,MAAM,CAAiB,IAAjB,CAAlB;EACA,MAAM,OAAO,GAAG,MAAM,CAAC,IAAD,CAAtB;EACA,MAAM,UAAU,GAAG,uBAAnB;;EAEA,MAAM,YAAY,GAAG,MAAK;IACtB,MAAM,IAAI,GAAG,GAAG,CAAC,OAAjB;IACA,IAAI,CAAC,IAAL,EAAW;IAEX,qBAAqB,CAAC,MAAK;MACvB,IAAI,CAAC,KAAL,CAAW,MAAX,GAAoB,IAAI,CAAC,YAAL,GAAoB,IAAxC;IACH,CAFoB,CAArB;EAGH,CAPD;;EASA,MAAM,aAAa,GAAG,MAAK;IACvB,MAAM,IAAI,GAAG,GAAG,CAAC,OAAjB;IACA,IAAI,CAAC,IAAL,EAAW;IAEX,qBAAqB,CAAC,MAAK;MACvB,IAAI,CAAC,KAAL,CAAW,MAAX,GAAoB,IAAI,CAAC,YAAL,GAAoB,IAAxC;MACA,IAAI,CAAC,KAAL,CAAW,QAAX,GAAsB,QAAtB;MACA,qBAAqB,CAAC,MAAK;QACvB,IAAI,CAAC,KAAL,CAAW,MAAX,GAAoB,GAApB;MACH,CAFoB,CAArB;IAGH,CANoB,CAArB;EAOH,CAXD;;EAaA,eAAe,CAAC,MAAK;IACjB,IAAI,QAAJ,EAAc;MACV,YAAY;IACf,CAFD,MAEO;MACH,aAAa;IAChB;EACJ,CANc,EAMZ,CAAC,QAAD,CANY,CAAf;EAQA,eAAe,CAAC,MAAK;IACjB,MAAM,IAAI,GAAG,GAAG,CAAC,OAAjB;IACA,IAAI,CAAC,IAAL,EAAW;;IAEX,SAAS,cAAT,GAAuB;MACnB,IAAI,CAAC,IAAL,EAAW;MAEX,IAAI,CAAC,KAAL,CAAW,QAAX,GAAsB,QAAQ,GAAG,SAAH,GAAe,QAA7C;;MACA,IAAI,QAAJ,EAAc;QACV,IAAI,CAAC,KAAL,CAAW,MAAX,GAAoB,MAApB;MACH;IACJ;;IAED,SAAS,mBAAT,CAA6B,KAA7B,EAAmD;MAC/C,IAAI,IAAI,IAAI,KAAK,CAAC,MAAN,KAAiB,IAAzB,IAAiC,KAAK,CAAC,YAAN,KAAuB,QAA5D,EAAsE;QAClE,cAAc;MACjB;IACJ;;IAED,IAAI,OAAO,CAAC,OAAZ,EAAqB;MACjB,cAAc;MACd,OAAO,CAAC,OAAR,GAAkB,KAAlB;IACH;;IAED,IAAI,CAAC,gBAAL,CAAsB,eAAtB,EAAuC,mBAAvC;IACA,OAAO,MAAM,IAAI,CAAC,mBAAL,CAAyB,eAAzB,EAA0C,mBAA1C,CAAb;EACH,CA1Bc,EA0BZ,CAAC,QAAD,CA1BY,CAAf;EA4BA,OACI,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;IACI,QAAQ,EAAE,QADd;IAEI,SAAS,EAAC,yBAFd;IAGI,EAAE,EAAE,EAHR;IAII,GAAG,EAAE,GAJT;IAKI,IAAI,EAAC,QALT;IAMI,KAAK,EAAE;MAAE,MAAM,EAAE,CAAV;MAAa,UAAU,EAAE,OAAO,CAAC,OAAR,GAAkB,SAAlB,GAA8B;IAAvD;EANX,CAAA,CADJ;AAUH,CAzEM","sourceRoot":"","sourcesContent":["import React, { useLayoutEffect, useRef } from 'react';\nexport const Collapse = ({ id, children, expanded = false }) => {\n    const ref = useRef(null);\n    const instant = useRef(true);\n    const transition = 'height 250ms ease-out';\n    const openCollapse = () => {\n        const node = ref.current;\n        if (!node)\n            return;\n        requestAnimationFrame(() => {\n            node.style.height = node.scrollHeight + 'px';\n        });\n    };\n    const closeCollapse = () => {\n        const node = ref.current;\n        if (!node)\n            return;\n        requestAnimationFrame(() => {\n            node.style.height = node.offsetHeight + 'px';\n            node.style.overflow = 'hidden';\n            requestAnimationFrame(() => {\n                node.style.height = '0';\n            });\n        });\n    };\n    useLayoutEffect(() => {\n        if (expanded) {\n            openCollapse();\n        }\n        else {\n            closeCollapse();\n        }\n    }, [expanded]);\n    useLayoutEffect(() => {\n        const node = ref.current;\n        if (!node)\n            return;\n        function handleComplete() {\n            if (!node)\n                return;\n            node.style.overflow = expanded ? 'initial' : 'hidden';\n            if (expanded) {\n                node.style.height = 'auto';\n            }\n        }\n        function handleTransitionEnd(event) {\n            if (node && event.target === node && event.propertyName === 'height') {\n                handleComplete();\n            }\n        }\n        if (instant.current) {\n            handleComplete();\n            instant.current = false;\n        }\n        node.addEventListener('transitionend', handleTransitionEnd);\n        return () => node.removeEventListener('transitionend', handleTransitionEnd);\n    }, [expanded]);\n    return (React.createElement(\"div\", { children: children, className: \"wallet-adapter-collapse\", id: id, ref: ref, role: \"region\", style: { height: 0, transition: instant.current ? undefined : transition } }));\n};\n//# sourceMappingURL=Collapse.js.map"]},"metadata":{},"sourceType":"module"}