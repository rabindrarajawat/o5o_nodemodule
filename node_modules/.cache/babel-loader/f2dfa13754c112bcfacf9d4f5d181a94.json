{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UnreachableCaseError = exports.stringify = exports.bytes = exports.beetBytes = exports.logTrace = exports.logDebug = exports.logInfo = exports.logError = void 0;\n\nconst debug_1 = __importDefault(require(\"debug\"));\n\nconst ansicolors_1 = __importDefault(require(\"ansicolors\"));\n\nconst types_1 = require(\"./types\");\n\nconst {\n  brightBlack\n} = ansicolors_1.default;\nexports.logError = (0, debug_1.default)('beet:error');\nexports.logInfo = (0, debug_1.default)('beet:info');\nexports.logDebug = (0, debug_1.default)('beet:debug');\nexports.logTrace = (0, debug_1.default)('beet:trace');\n\nfunction beetBytes(beet) {\n  let isFixable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  let bytes;\n\n  if ((0, types_1.isFixableBeet)(beet)) {\n    bytes = '? B';\n  } else if ((0, types_1.isElementCollectionFixedSizeBeet)(beet)) {\n    const len = isFixable ? 'length' : beet.length;\n    const lenBytes = beet.lenPrefixByteSize;\n    bytes = lenBytes > 0 ? `${lenBytes} + (${beet.elementByteSize} * ${len}) B  (${beet.byteSize} B)` : `(${beet.elementByteSize} * ${len}) B (${beet.byteSize} B)`;\n  } else {\n    bytes = `${beet.byteSize} B`;\n  }\n\n  return brightBlack(bytes);\n}\n\nexports.beetBytes = beetBytes;\n\nfunction bytes(n) {\n  return brightBlack(`${n} B`);\n}\n\nexports.bytes = bytes;\n\nfunction stringify(x) {\n  return x.toString === 'function' ? x.toString() : x;\n}\n\nexports.stringify = stringify;\n\nclass UnreachableCaseError extends Error {\n  constructor(value) {\n    super(`Unreachable case: ${value}`);\n  }\n\n}\n\nexports.UnreachableCaseError = UnreachableCaseError;","map":{"version":3,"sources":["../../../src/utils.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,MAAA,OAAA,GAAA,eAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AACA,MAAA,YAAA,GAAA,eAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;;AACA,MAAA,OAAA,GAAA,OAAA,CAAA,SAAA,CAAA;;AAMA,MAAM;EAAE;AAAF,IAAkB,YAAA,CAAA,OAAxB;AAEa,OAAA,CAAA,QAAA,GAAW,CAAA,GAAA,OAAA,CAAA,OAAA,EAAM,YAAN,CAAX;AACA,OAAA,CAAA,OAAA,GAAU,CAAA,GAAA,OAAA,CAAA,OAAA,EAAM,WAAN,CAAV;AACA,OAAA,CAAA,QAAA,GAAW,CAAA,GAAA,OAAA,CAAA,OAAA,EAAM,YAAN,CAAX;AACA,OAAA,CAAA,QAAA,GAAW,CAAA,GAAA,OAAA,CAAA,OAAA,EAAM,YAAN,CAAX;;AAEb,SAAgB,SAAhB,CACE,IADF,EAEmB;EAAA,IAAjB,SAAiB,uEAAL,KAAK;EAEjB,IAAI,KAAJ;;EACA,IAAI,CAAA,GAAA,OAAA,CAAA,aAAA,EAAc,IAAd,CAAJ,EAAyB;IACvB,KAAK,GAAG,KAAR;EACD,CAFD,MAEO,IAAI,CAAA,GAAA,OAAA,CAAA,gCAAA,EAAiC,IAAjC,CAAJ,EAA4C;IACjD,MAAM,GAAG,GAAG,SAAS,GAAG,QAAH,GAAc,IAAI,CAAC,MAAxC;IACA,MAAM,QAAQ,GAAG,IAAI,CAAC,iBAAtB;IACA,KAAK,GACH,QAAQ,GAAG,CAAX,GACI,GAAG,QAAQ,OAAO,IAAI,CAAC,eAAe,MAAM,GAAG,SAAS,IAAI,CAAC,QAAQ,KADzE,GAEI,IAAI,IAAI,CAAC,eAAe,MAAM,GAAG,QAAQ,IAAI,CAAC,QAAQ,KAH5D;EAID,CAPM,MAOA;IACL,KAAK,GAAG,GAAG,IAAI,CAAC,QAAQ,IAAxB;EACD;;EACD,OAAO,WAAW,CAAC,KAAD,CAAlB;AACD;;AAlBD,OAAA,CAAA,SAAA,GAAA,SAAA;;AAoBA,SAAgB,KAAhB,CAAsB,CAAtB,EAA+B;EAC7B,OAAO,WAAW,CAAC,GAAG,CAAC,IAAL,CAAlB;AACD;;AAFD,OAAA,CAAA,KAAA,GAAA,KAAA;;AAIA,SAAgB,SAAhB,CAA0B,CAA1B,EAAgC;EAC9B,OAAO,CAAC,CAAC,QAAF,KAAe,UAAf,GAA4B,CAAC,CAAC,QAAF,EAA5B,GAA2C,CAAlD;AACD;;AAFD,OAAA,CAAA,SAAA,GAAA,SAAA;;AAIA,MAAa,oBAAb,SAA0C,KAA1C,CAA+C;EAC7C,WAAA,CAAY,KAAZ,EAAwB;IACtB,MAAM,qBAAqB,KAAK,EAAhC;EACD;;AAH4C;;AAA/C,OAAA,CAAA,oBAAA,GAAA,oBAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UnreachableCaseError = exports.stringify = exports.bytes = exports.beetBytes = exports.logTrace = exports.logDebug = exports.logInfo = exports.logError = void 0;\nconst debug_1 = __importDefault(require(\"debug\"));\nconst ansicolors_1 = __importDefault(require(\"ansicolors\"));\nconst types_1 = require(\"./types\");\nconst { brightBlack } = ansicolors_1.default;\nexports.logError = (0, debug_1.default)('beet:error');\nexports.logInfo = (0, debug_1.default)('beet:info');\nexports.logDebug = (0, debug_1.default)('beet:debug');\nexports.logTrace = (0, debug_1.default)('beet:trace');\nfunction beetBytes(beet, isFixable = false) {\n    let bytes;\n    if ((0, types_1.isFixableBeet)(beet)) {\n        bytes = '? B';\n    }\n    else if ((0, types_1.isElementCollectionFixedSizeBeet)(beet)) {\n        const len = isFixable ? 'length' : beet.length;\n        const lenBytes = beet.lenPrefixByteSize;\n        bytes =\n            lenBytes > 0\n                ? `${lenBytes} + (${beet.elementByteSize} * ${len}) B  (${beet.byteSize} B)`\n                : `(${beet.elementByteSize} * ${len}) B (${beet.byteSize} B)`;\n    }\n    else {\n        bytes = `${beet.byteSize} B`;\n    }\n    return brightBlack(bytes);\n}\nexports.beetBytes = beetBytes;\nfunction bytes(n) {\n    return brightBlack(`${n} B`);\n}\nexports.bytes = bytes;\nfunction stringify(x) {\n    return x.toString === 'function' ? x.toString() : x;\n}\nexports.stringify = stringify;\nclass UnreachableCaseError extends Error {\n    constructor(value) {\n        super(`Unreachable case: ${value}`);\n    }\n}\nexports.UnreachableCaseError = UnreachableCaseError;\n//# sourceMappingURL=utils.js.map"]},"metadata":{},"sourceType":"script"}