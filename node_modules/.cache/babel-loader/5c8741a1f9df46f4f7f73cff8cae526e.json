{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useGateway = exports.GatewayProvider = void 0;\n\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\n\nconst react_1 = __importStar(require(\"react\"));\n\nconst iframe_resizer_react_1 = __importDefault(require(\"iframe-resizer-react\"));\n\nconst types_1 = require(\"../types\");\n\nconst logger_1 = __importDefault(require(\"../logger\"));\n\nconst Wrapper_1 = require(\"../wrapper/Wrapper\");\n\nconst constants_1 = require(\"../constants\");\n\nconst gatekeeperClient_1 = __importDefault(require(\"../utils/gatekeeperClient\"));\n\nconst useReducer_1 = __importDefault(require(\"../useReducer\"));\n\nconst useUserInteraction_1 = __importDefault(require(\"../useHooks/useUserInteraction\"));\n\nconst useOrchestration_1 = __importDefault(require(\"../useHooks/useOrchestration\"));\n\nconst useWalletHooks_1 = __importDefault(require(\"../useHooks/useWalletHooks\"));\n\nconst status_1 = require(\"../utils/status\");\n\nconst config_1 = require(\"../config\");\n\nconst GatewayContext = react_1.default.createContext({\n  requestGatewayToken: async () => {},\n  gatewayStatus: types_1.GatewayStatus.NOT_REQUESTED\n});\n\nconst redirectUrlFromWindow = () => encodeURIComponent(window.location.href.split('?')[0]);\n\nconst GatewayProvider = _ref => {\n  let {\n    children = null,\n    wallet,\n    chainImplementation,\n    wrapper,\n    logo,\n    stage = 'prod',\n    redirectUrl,\n    gatekeeperNetwork,\n    options = {\n      autoShowModal: true\n    },\n    ownerSigns\n  } = _ref;\n  const gatekeeperNetworkAddress = gatekeeperNetwork;\n  const [state, dispatch] = (0, react_1.useReducer)(useReducer_1.default, {\n    options,\n    gatewayStatus: types_1.GatewayStatus.UNKNOWN,\n    tokenRequested: false,\n    iframeMinimized: false,\n    firstTokenCheck: true,\n    renderIframe: false,\n    powoFinished: false,\n    refreshInProgress: false,\n    walletPowoInProgress: false,\n    walletAddress: wallet === null || wallet === void 0 ? void 0 : wallet.publicKey,\n    iframeSrcUrl: undefined,\n    stage,\n    redirectUrl: redirectUrl || redirectUrlFromWindow(),\n    tokenIssuanceState: types_1.TokenIssuanceState.NOT_REQUESTED,\n    refreshTokenState: types_1.RefreshTokenState.NOT_REQUIRED,\n    civicPass: {\n      status: types_1.CivicPassIssuanceStatus.NOT_REQUESTED,\n      iframeMinimized: false,\n      renderIframe: false\n    },\n    gatekeeperNetworkAddress,\n    chainType: chainImplementation.chainType,\n    ownerSigns,\n    ownerTransactionConfirmed: false\n  });\n  const {\n    gatewayStatus,\n    iframeMinimized,\n    renderIframe,\n    gatewayToken,\n    iframeSrcUrl,\n    gatewayTokenTransaction\n  } = state;\n  (0, useWalletHooks_1.default)(wallet, state, dispatch); // need to handle wallet connect and disconnect first\n  // ensure the state is updated with any changes to input props\n\n  (0, react_1.useEffect)(() => {\n    dispatch({\n      type: 'updateStateWithProps',\n      redirectUrl: redirectUrl || redirectUrlFromWindow(),\n      stage,\n      walletAddress: wallet === null || wallet === void 0 ? void 0 : wallet.publicKey,\n      gatekeeperNetworkAddress,\n      ownerSigns\n    });\n  }, [redirectUrl, stage, wallet === null || wallet === void 0 ? void 0 : wallet.publicKey, gatekeeperNetworkAddress, ownerSigns]);\n  const {\n    network\n  } = chainImplementation.httpConfig.queryParams;\n  const {\n    headers\n  } = chainImplementation.httpConfig;\n  const gatekeeperEndpoint = chainImplementation.httpConfig.baseUrl;\n  const gatekeeperClient = (0, react_1.useCallback)(() => {\n    if (!gatekeeperNetworkAddress) {\n      throw new Error('No gatekeeper network passed in.');\n    }\n\n    return new gatekeeperClient_1.default({\n      baseUrl: gatekeeperEndpoint,\n      stage,\n      queryParams: {\n        network,\n        gatekeeperNetworkAddress\n      },\n      headers\n    });\n  }, [stage, gatekeeperEndpoint, gatekeeperNetworkAddress, network]); // this hook implements the main business logic and handles requesting and refreshing gateway tokens\n\n  (0, useOrchestration_1.default)({\n    wallet,\n    chainImplementation,\n    stage,\n    gatekeeperClient\n  }, state, dispatch); // requestGatewayToken is the only user-triggered event handled by the component\n  // the compliance iframe user interaction is handled using events triggered from the iframe\n\n  const {\n    requestGatewayToken\n  } = (0, useUserInteraction_1.default)({\n    wallet\n  }, state, dispatch);\n  const civicPassSrcUrl = (0, config_1.getCivicPassEndpoint)(stage);\n  /**\n   * manage local state for display of the close button ui relative to iframe loading\n   */\n\n  const [iframeLoaded, setIframeLoaded] = (0, react_1.useState)(false);\n  (0, react_1.useEffect)(() => {\n    logger_1.default.info('GatewayContext gatewayStatus', (0, status_1.statusDisplayValue)(gatewayStatus));\n  }, [gatewayStatus]);\n  /**\n   * Reset the iFrame when removing the iFrame from the DOM\n   */\n\n  (0, react_1.useEffect)(() => {\n    if (!renderIframe) {\n      setIframeLoaded(false);\n    }\n  }, [renderIframe]);\n  return (0, jsx_runtime_1.jsx)(GatewayContext.Provider, Object.assign({\n    value: {\n      requestGatewayToken,\n      gatewayStatus: (0, status_1.mapStatus)(gatewayStatus),\n      gatewayToken: gatewayStatus === types_1.GatewayStatus.ACTIVE ? gatewayToken : undefined,\n      gatewayTokenTransaction,\n      civicPassSrcUrl\n    }\n  }, {\n    children: (0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, {\n      children: [children, renderIframe && (0, jsx_runtime_1.jsx)(\"div\", Object.assign({\n        \"data-testid\": constants_1.TESTID_WRAPPER_CONTAINER,\n        hidden: iframeMinimized\n      }, {\n        children: (0, jsx_runtime_1.jsx)(Wrapper_1.Wrapper, Object.assign({\n          \"data-testid\": constants_1.TESTID_WRAPPER,\n          onClose: () => dispatch({\n            type: 'civicPass_close'\n          }),\n          wrapper: wrapper,\n          logo: logo,\n          loaded: iframeLoaded\n        }, {\n          children: (0, jsx_runtime_1.jsx)(iframe_resizer_react_1.default, {\n            \"data-testid\": constants_1.TESTID_IFRAME,\n            src: iframeSrcUrl,\n            id: constants_1.IFRAME_ID,\n            style: {\n              width: '1px',\n              minWidth: '100%',\n              border: 'none',\n              height: '26px',\n              transition: 'height 0.25s ease'\n            },\n            heightCalculationMethod: \"min\",\n            checkOrigin: false,\n            onLoad: () => setIframeLoaded(true),\n            inPageLinks: true,\n            allow: \"camera\",\n            allowFullScreen: true,\n            frameBorder: \"0\"\n          })\n        }))\n      }))]\n    })\n  }));\n};\n\nexports.GatewayProvider = GatewayProvider;\n\nconst useGateway = () => (0, react_1.useContext)(GatewayContext);\n\nexports.useGateway = useGateway;","map":{"version":3,"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","__importDefault","exports","useGateway","GatewayProvider","jsx_runtime_1","require","react_1","iframe_resizer_react_1","types_1","logger_1","Wrapper_1","constants_1","gatekeeperClient_1","useReducer_1","useUserInteraction_1","useOrchestration_1","useWalletHooks_1","status_1","config_1","GatewayContext","default","createContext","requestGatewayToken","gatewayStatus","GatewayStatus","NOT_REQUESTED","redirectUrlFromWindow","encodeURIComponent","window","location","href","split","children","wallet","chainImplementation","wrapper","logo","stage","redirectUrl","gatekeeperNetwork","options","autoShowModal","ownerSigns","gatekeeperNetworkAddress","state","dispatch","useReducer","UNKNOWN","tokenRequested","iframeMinimized","firstTokenCheck","renderIframe","powoFinished","refreshInProgress","walletPowoInProgress","walletAddress","publicKey","iframeSrcUrl","tokenIssuanceState","TokenIssuanceState","refreshTokenState","RefreshTokenState","NOT_REQUIRED","civicPass","status","CivicPassIssuanceStatus","chainType","ownerTransactionConfirmed","gatewayToken","gatewayTokenTransaction","useEffect","type","network","httpConfig","queryParams","headers","gatekeeperEndpoint","baseUrl","gatekeeperClient","useCallback","Error","civicPassSrcUrl","getCivicPassEndpoint","iframeLoaded","setIframeLoaded","useState","info","statusDisplayValue","jsx","Provider","assign","mapStatus","ACTIVE","jsxs","Fragment","TESTID_WRAPPER_CONTAINER","hidden","Wrapper","TESTID_WRAPPER","onClose","loaded","TESTID_IFRAME","src","id","IFRAME_ID","style","width","minWidth","border","height","transition","heightCalculationMethod","checkOrigin","onLoad","inPageLinks","allow","allowFullScreen","frameBorder","useContext"],"sources":["D:/software/o5o BNB/o5o-staking-frontend/node_modules/@civic/common-gateway-react/dist/esm/gateway/GatewayContext.js"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useGateway = exports.GatewayProvider = void 0;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = __importStar(require(\"react\"));\nconst iframe_resizer_react_1 = __importDefault(require(\"iframe-resizer-react\"));\nconst types_1 = require(\"../types\");\nconst logger_1 = __importDefault(require(\"../logger\"));\nconst Wrapper_1 = require(\"../wrapper/Wrapper\");\nconst constants_1 = require(\"../constants\");\nconst gatekeeperClient_1 = __importDefault(require(\"../utils/gatekeeperClient\"));\nconst useReducer_1 = __importDefault(require(\"../useReducer\"));\nconst useUserInteraction_1 = __importDefault(require(\"../useHooks/useUserInteraction\"));\nconst useOrchestration_1 = __importDefault(require(\"../useHooks/useOrchestration\"));\nconst useWalletHooks_1 = __importDefault(require(\"../useHooks/useWalletHooks\"));\nconst status_1 = require(\"../utils/status\");\nconst config_1 = require(\"../config\");\nconst GatewayContext = react_1.default.createContext({\n    requestGatewayToken: async () => { },\n    gatewayStatus: types_1.GatewayStatus.NOT_REQUESTED,\n});\nconst redirectUrlFromWindow = () => encodeURIComponent(window.location.href.split('?')[0]);\nconst GatewayProvider = ({ children = null, wallet, chainImplementation, wrapper, logo, stage = 'prod', redirectUrl, gatekeeperNetwork, options = { autoShowModal: true }, ownerSigns, }) => {\n    const gatekeeperNetworkAddress = gatekeeperNetwork;\n    const [state, dispatch] = (0, react_1.useReducer)(useReducer_1.default, {\n        options,\n        gatewayStatus: types_1.GatewayStatus.UNKNOWN,\n        tokenRequested: false,\n        iframeMinimized: false,\n        firstTokenCheck: true,\n        renderIframe: false,\n        powoFinished: false,\n        refreshInProgress: false,\n        walletPowoInProgress: false,\n        walletAddress: wallet === null || wallet === void 0 ? void 0 : wallet.publicKey,\n        iframeSrcUrl: undefined,\n        stage,\n        redirectUrl: redirectUrl || redirectUrlFromWindow(),\n        tokenIssuanceState: types_1.TokenIssuanceState.NOT_REQUESTED,\n        refreshTokenState: types_1.RefreshTokenState.NOT_REQUIRED,\n        civicPass: {\n            status: types_1.CivicPassIssuanceStatus.NOT_REQUESTED,\n            iframeMinimized: false,\n            renderIframe: false,\n        },\n        gatekeeperNetworkAddress,\n        chainType: chainImplementation.chainType,\n        ownerSigns,\n        ownerTransactionConfirmed: false,\n    });\n    const { gatewayStatus, iframeMinimized, renderIframe, gatewayToken, iframeSrcUrl, gatewayTokenTransaction } = state;\n    (0, useWalletHooks_1.default)(wallet, state, dispatch); // need to handle wallet connect and disconnect first\n    // ensure the state is updated with any changes to input props\n    (0, react_1.useEffect)(() => {\n        dispatch({\n            type: 'updateStateWithProps',\n            redirectUrl: redirectUrl || redirectUrlFromWindow(),\n            stage,\n            walletAddress: wallet === null || wallet === void 0 ? void 0 : wallet.publicKey,\n            gatekeeperNetworkAddress,\n            ownerSigns,\n        });\n    }, [redirectUrl, stage, wallet === null || wallet === void 0 ? void 0 : wallet.publicKey, gatekeeperNetworkAddress, ownerSigns]);\n    const { network } = chainImplementation.httpConfig.queryParams;\n    const { headers } = chainImplementation.httpConfig;\n    const gatekeeperEndpoint = chainImplementation.httpConfig.baseUrl;\n    const gatekeeperClient = (0, react_1.useCallback)(() => {\n        if (!gatekeeperNetworkAddress) {\n            throw new Error('No gatekeeper network passed in.');\n        }\n        return new gatekeeperClient_1.default({\n            baseUrl: gatekeeperEndpoint,\n            stage,\n            queryParams: { network, gatekeeperNetworkAddress },\n            headers,\n        });\n    }, [stage, gatekeeperEndpoint, gatekeeperNetworkAddress, network]);\n    // this hook implements the main business logic and handles requesting and refreshing gateway tokens\n    (0, useOrchestration_1.default)({ wallet, chainImplementation, stage, gatekeeperClient }, state, dispatch);\n    // requestGatewayToken is the only user-triggered event handled by the component\n    // the compliance iframe user interaction is handled using events triggered from the iframe\n    const { requestGatewayToken } = (0, useUserInteraction_1.default)({ wallet }, state, dispatch);\n    const civicPassSrcUrl = (0, config_1.getCivicPassEndpoint)(stage);\n    /**\n     * manage local state for display of the close button ui relative to iframe loading\n     */\n    const [iframeLoaded, setIframeLoaded] = (0, react_1.useState)(false);\n    (0, react_1.useEffect)(() => {\n        logger_1.default.info('GatewayContext gatewayStatus', (0, status_1.statusDisplayValue)(gatewayStatus));\n    }, [gatewayStatus]);\n    /**\n     * Reset the iFrame when removing the iFrame from the DOM\n     */\n    (0, react_1.useEffect)(() => {\n        if (!renderIframe) {\n            setIframeLoaded(false);\n        }\n    }, [renderIframe]);\n    return ((0, jsx_runtime_1.jsx)(GatewayContext.Provider, Object.assign({ value: {\n            requestGatewayToken,\n            gatewayStatus: (0, status_1.mapStatus)(gatewayStatus),\n            gatewayToken: gatewayStatus === types_1.GatewayStatus.ACTIVE ? gatewayToken : undefined,\n            gatewayTokenTransaction,\n            civicPassSrcUrl,\n        } }, { children: (0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [children, renderIframe && ((0, jsx_runtime_1.jsx)(\"div\", Object.assign({ \"data-testid\": constants_1.TESTID_WRAPPER_CONTAINER, hidden: iframeMinimized }, { children: (0, jsx_runtime_1.jsx)(Wrapper_1.Wrapper, Object.assign({ \"data-testid\": constants_1.TESTID_WRAPPER, onClose: () => dispatch({ type: 'civicPass_close' }), wrapper: wrapper, logo: logo, loaded: iframeLoaded }, { children: (0, jsx_runtime_1.jsx)(iframe_resizer_react_1.default, { \"data-testid\": constants_1.TESTID_IFRAME, src: iframeSrcUrl, id: constants_1.IFRAME_ID, style: {\n                                width: '1px',\n                                minWidth: '100%',\n                                border: 'none',\n                                height: '26px',\n                                transition: 'height 0.25s ease',\n                            }, heightCalculationMethod: \"min\", checkOrigin: false, onLoad: () => setIframeLoaded(true), inPageLinks: true, allow: \"camera\", allowFullScreen: true, frameBorder: \"0\" }) })) })))] }) })));\n};\nexports.GatewayProvider = GatewayProvider;\nconst useGateway = () => (0, react_1.useContext)(GatewayContext);\nexports.useGateway = useGateway;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}