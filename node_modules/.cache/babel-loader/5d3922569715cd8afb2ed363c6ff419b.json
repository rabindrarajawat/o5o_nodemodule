{"ast":null,"code":"var _s = $RefreshSig$();\n\n/* eslint-disable react-hooks/exhaustive-deps */\n\n/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { useWallet } from '@solana/wallet-adapter-react';\nimport { useEffect, useState } from 'react';\nimport { getNftsForOwner1, getSlimeNfts } from '../utils/candy-machine';\nimport useWalletBalance from './use-wallet-balance';\nimport { printLog } from '../utils/utility';\n\nconst useWalletNfts = () => {\n  _s();\n\n  const [balance] = useWalletBalance();\n  const wallet = useWallet();\n  const [isLoadingWalletNfts, setIsLoadingWalletNfts] = useState(false);\n  const [walletNfts, setWalletNfts] = useState([]);\n  const [walletSlimeNfts, setWalletSlimeNfts] = useState([]);\n  useEffect(() => {\n    getWalletNfts();\n    getWalletSlimeNfts();\n  }, [wallet, balance]);\n\n  const getWalletNfts = async () => {\n    try {\n      if (!wallet || !wallet.publicKey || !wallet.signAllTransactions || !wallet.signTransaction) {\n        return;\n      }\n\n      printLog('loading nfts from wallet');\n      setIsLoadingWalletNfts(true);\n      const nftsForOwner = await getNftsForOwner1(wallet.publicKey); // const nftsForOwner = await getNftsForOwner(connection, wallet.publicKey);\n\n      console.log('loaded nfts from wallet', nftsForOwner);\n      setWalletNfts(nftsForOwner);\n      setIsLoadingWalletNfts(false);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getWalletSlimeNfts = async () => {\n    try {\n      if (!wallet || !wallet.publicKey || !wallet.signAllTransactions || !wallet.signTransaction) {\n        return;\n      }\n\n      printLog('loading slime nfts from wallet');\n      setIsLoadingWalletNfts(true);\n      const nftsForOwner = await getSlimeNfts(wallet.publicKey); // const nftsForOwner = await getNftsForOwner(connection, wallet.publicKey);\n\n      console.log('loaded slime nfts from wallet', nftsForOwner);\n      setWalletSlimeNfts(nftsForOwner);\n      setIsLoadingWalletNfts(false);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return {\n    isLoadingWalletNfts,\n    walletNfts,\n    setWalletNfts,\n    getWalletNfts,\n    walletSlimeNfts,\n    setWalletSlimeNfts,\n    getWalletSlimeNfts\n  };\n};\n\n_s(useWalletNfts, \"ZHE09ob+8dIWGqFI8d1t+4MOqqQ=\", false, function () {\n  return [useWalletBalance, useWallet];\n});\n\nexport default useWalletNfts;","map":{"version":3,"names":["useWallet","useEffect","useState","getNftsForOwner1","getSlimeNfts","useWalletBalance","printLog","useWalletNfts","balance","wallet","isLoadingWalletNfts","setIsLoadingWalletNfts","walletNfts","setWalletNfts","walletSlimeNfts","setWalletSlimeNfts","getWalletNfts","getWalletSlimeNfts","publicKey","signAllTransactions","signTransaction","nftsForOwner","console","log","err"],"sources":["D:/software/o5o BNB/o5o-staking-frontend/src/hooks/use-wallet-nfts.ts"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { useWallet } from '@solana/wallet-adapter-react';\r\nimport { useEffect, useState } from 'react';\r\nimport * as anchor from \"@project-serum/anchor\";\r\nimport { getNftsForOwner, getNftsForOwner1, getSlimeNfts } from '../utils/candy-machine';\r\nimport useWalletBalance from './use-wallet-balance';\r\nimport { printLog } from '../utils/utility';\r\n\r\nconst useWalletNfts = () => {\r\n\tconst [balance] = useWalletBalance();\r\n\tconst wallet = useWallet();\r\n\tconst [isLoadingWalletNfts, setIsLoadingWalletNfts] = useState(false);\r\n\tconst [walletNfts, setWalletNfts] = useState<Array<any>>([]);\r\n\tconst [walletSlimeNfts, setWalletSlimeNfts] = useState<Array<any>>([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetWalletNfts();\r\n\t\tgetWalletSlimeNfts();\r\n\t}, [wallet, balance]);\r\n\r\n\tconst getWalletNfts = async () => {\r\n\t\ttry {\r\n\t\t\tif (\r\n\t\t\t\t!wallet ||\r\n\t\t\t\t!wallet.publicKey ||\r\n\t\t\t\t!wallet.signAllTransactions ||\r\n\t\t\t\t!wallet.signTransaction\r\n\t\t\t) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tprintLog('loading nfts from wallet')\r\n\t\t\tsetIsLoadingWalletNfts(true);\r\n\t\t\tconst nftsForOwner = await getNftsForOwner1(wallet.publicKey);\r\n\t\t\t// const nftsForOwner = await getNftsForOwner(connection, wallet.publicKey);\r\n\t\t\tconsole.log('loaded nfts from wallet', nftsForOwner)\r\n\t\t\tsetWalletNfts(nftsForOwner as any);\r\n\t\t\tsetIsLoadingWalletNfts(false);\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t}\r\n\r\n\tconst getWalletSlimeNfts = async () => {\r\n\t\ttry {\r\n\t\t\tif (\r\n\t\t\t\t!wallet ||\r\n\t\t\t\t!wallet.publicKey ||\r\n\t\t\t\t!wallet.signAllTransactions ||\r\n\t\t\t\t!wallet.signTransaction\r\n\t\t\t) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tprintLog('loading slime nfts from wallet')\r\n\t\t\tsetIsLoadingWalletNfts(true);\r\n\t\t\tconst nftsForOwner = await getSlimeNfts(wallet.publicKey);\r\n\t\t\t// const nftsForOwner = await getNftsForOwner(connection, wallet.publicKey);\r\n\t\t\tconsole.log('loaded slime nfts from wallet', nftsForOwner)\r\n\t\t\tsetWalletSlimeNfts(nftsForOwner as any);\r\n\t\t\tsetIsLoadingWalletNfts(false);\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t}\r\n\r\n\treturn { isLoadingWalletNfts, walletNfts, setWalletNfts, getWalletNfts, walletSlimeNfts, setWalletSlimeNfts, getWalletSlimeNfts };\r\n}\r\n\r\nexport default useWalletNfts;"],"mappings":";;AAAA;;AACA;AACA,SAASA,SAAT,QAA0B,8BAA1B;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,SAA0BC,gBAA1B,EAA4CC,YAA5C,QAAgE,wBAAhE;AACA,OAAOC,gBAAP,MAA6B,sBAA7B;AACA,SAASC,QAAT,QAAyB,kBAAzB;;AAEA,MAAMC,aAAa,GAAG,MAAM;EAAA;;EAC3B,MAAM,CAACC,OAAD,IAAYH,gBAAgB,EAAlC;EACA,MAAMI,MAAM,GAAGT,SAAS,EAAxB;EACA,MAAM,CAACU,mBAAD,EAAsBC,sBAAtB,IAAgDT,QAAQ,CAAC,KAAD,CAA9D;EACA,MAAM,CAACU,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAa,EAAb,CAA5C;EACA,MAAM,CAACY,eAAD,EAAkBC,kBAAlB,IAAwCb,QAAQ,CAAa,EAAb,CAAtD;EAEAD,SAAS,CAAC,MAAM;IACfe,aAAa;IACbC,kBAAkB;EAClB,CAHQ,EAGN,CAACR,MAAD,EAASD,OAAT,CAHM,CAAT;;EAKA,MAAMQ,aAAa,GAAG,YAAY;IACjC,IAAI;MACH,IACC,CAACP,MAAD,IACA,CAACA,MAAM,CAACS,SADR,IAEA,CAACT,MAAM,CAACU,mBAFR,IAGA,CAACV,MAAM,CAACW,eAJT,EAKE;QACD;MACA;;MACDd,QAAQ,CAAC,0BAAD,CAAR;MACAK,sBAAsB,CAAC,IAAD,CAAtB;MACA,MAAMU,YAAY,GAAG,MAAMlB,gBAAgB,CAACM,MAAM,CAACS,SAAR,CAA3C,CAXG,CAYH;;MACAI,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCF,YAAvC;MACAR,aAAa,CAACQ,YAAD,CAAb;MACAV,sBAAsB,CAAC,KAAD,CAAtB;IACA,CAhBD,CAiBA,OAAOa,GAAP,EAAY;MACXF,OAAO,CAACC,GAAR,CAAYC,GAAZ;IACA;EACD,CArBD;;EAuBA,MAAMP,kBAAkB,GAAG,YAAY;IACtC,IAAI;MACH,IACC,CAACR,MAAD,IACA,CAACA,MAAM,CAACS,SADR,IAEA,CAACT,MAAM,CAACU,mBAFR,IAGA,CAACV,MAAM,CAACW,eAJT,EAKE;QACD;MACA;;MACDd,QAAQ,CAAC,gCAAD,CAAR;MACAK,sBAAsB,CAAC,IAAD,CAAtB;MACA,MAAMU,YAAY,GAAG,MAAMjB,YAAY,CAACK,MAAM,CAACS,SAAR,CAAvC,CAXG,CAYH;;MACAI,OAAO,CAACC,GAAR,CAAY,+BAAZ,EAA6CF,YAA7C;MACAN,kBAAkB,CAACM,YAAD,CAAlB;MACAV,sBAAsB,CAAC,KAAD,CAAtB;IACA,CAhBD,CAiBA,OAAOa,GAAP,EAAY;MACXF,OAAO,CAACC,GAAR,CAAYC,GAAZ;IACA;EACD,CArBD;;EAuBA,OAAO;IAAEd,mBAAF;IAAuBE,UAAvB;IAAmCC,aAAnC;IAAkDG,aAAlD;IAAiEF,eAAjE;IAAkFC,kBAAlF;IAAsGE;EAAtG,CAAP;AACA,CA3DD;;GAAMV,a;UACaF,gB,EACHL,S;;;AA2DhB,eAAeO,aAAf"},"metadata":{},"sourceType":"module"}