{"ast":null,"code":"var _s = $RefreshSig$();\n\n/* eslint-disable react-hooks/exhaustive-deps */\n\n/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { useWallet } from '@solana/wallet-adapter-react';\nimport { useEffect, useState } from 'react';\nimport { getNftsForOwner1 } from '../utils/candy-machine';\nimport useWalletBalance from './use-wallet-balance';\nimport { printLog } from '../utils/utility';\n\nconst useWalletNfts = () => {\n  _s();\n\n  const [balance] = useWalletBalance();\n  const wallet = useWallet();\n  const [isLoadingWalletNfts, setIsLoadingWalletNfts] = useState(false);\n  const [walletNfts, setWalletNfts] = useState([]);\n  useEffect(() => {\n    getWalletNfts();\n  }, [wallet, balance]);\n\n  const getWalletNfts = async () => {\n    try {\n      if (!wallet || !wallet.publicKey || !wallet.signAllTransactions || !wallet.signTransaction) {\n        return;\n      }\n\n      printLog('loading nfts from wallet');\n      setIsLoadingWalletNfts(true);\n      const nftsForOwner = await getNftsForOwner1(wallet.publicKey); // const nftsForOwner = await getNftsForOwner(connection, wallet.publicKey);\n\n      console.log('loaded nfts from wallet', nftsForOwner);\n      setWalletNfts(nftsForOwner);\n      setIsLoadingWalletNfts(false);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return {\n    isLoadingWalletNfts,\n    walletNfts,\n    setWalletNfts,\n    getWalletNfts\n  };\n};\n\n_s(useWalletNfts, \"u/fBqI7eBx9pqeMv288v/6PWczk=\", false, function () {\n  return [useWalletBalance, useWallet];\n});\n\nexport default useWalletNfts;","map":{"version":3,"names":["useWallet","useEffect","useState","getNftsForOwner1","useWalletBalance","printLog","useWalletNfts","balance","wallet","isLoadingWalletNfts","setIsLoadingWalletNfts","walletNfts","setWalletNfts","getWalletNfts","publicKey","signAllTransactions","signTransaction","nftsForOwner","console","log","err"],"sources":["D:/software/o5o BNB/o5o-staking-frontend/src/hooks/use-wallet-nfts.ts"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { useWallet } from '@solana/wallet-adapter-react';\r\nimport { useEffect, useState } from 'react';\r\nimport * as anchor from \"@project-serum/anchor\";\r\nimport { getNftsForOwner, getNftsForOwner1 } from '../utils/candy-machine';\r\nimport useWalletBalance from './use-wallet-balance';\r\nimport { printLog } from '../utils/utility';\r\n\r\nconst useWalletNfts = () => {\r\n\tconst [balance] = useWalletBalance();\r\n\tconst wallet = useWallet();\r\n\tconst [isLoadingWalletNfts, setIsLoadingWalletNfts] = useState(false);\r\n\tconst [walletNfts, setWalletNfts] = useState<Array<any>>([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetWalletNfts()\r\n\t}, [wallet, balance]);\r\n\r\n\tconst getWalletNfts = async () => {\r\n\t\ttry {\r\n\t\t\tif (\r\n\t\t\t\t!wallet ||\r\n\t\t\t\t!wallet.publicKey ||\r\n\t\t\t\t!wallet.signAllTransactions ||\r\n\t\t\t\t!wallet.signTransaction\r\n\t\t\t) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tprintLog('loading nfts from wallet')\r\n\t\t\tsetIsLoadingWalletNfts(true);\r\n\t\t\tconst nftsForOwner = await getNftsForOwner1(wallet.publicKey);\r\n\t\t\t// const nftsForOwner = await getNftsForOwner(connection, wallet.publicKey);\r\n\t\t\tconsole.log('loaded nfts from wallet', nftsForOwner)\r\n\t\t\tsetWalletNfts(nftsForOwner as any);\r\n\t\t\tsetIsLoadingWalletNfts(false);\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t}\r\n\r\n\treturn { isLoadingWalletNfts, walletNfts, setWalletNfts, getWalletNfts };\r\n}\r\n\r\nexport default useWalletNfts;"],"mappings":";;AAAA;;AACA;AACA,SAASA,SAAT,QAA0B,8BAA1B;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,SAA0BC,gBAA1B,QAAkD,wBAAlD;AACA,OAAOC,gBAAP,MAA6B,sBAA7B;AACA,SAASC,QAAT,QAAyB,kBAAzB;;AAEA,MAAMC,aAAa,GAAG,MAAM;EAAA;;EAC3B,MAAM,CAACC,OAAD,IAAYH,gBAAgB,EAAlC;EACA,MAAMI,MAAM,GAAGR,SAAS,EAAxB;EACA,MAAM,CAACS,mBAAD,EAAsBC,sBAAtB,IAAgDR,QAAQ,CAAC,KAAD,CAA9D;EACA,MAAM,CAACS,UAAD,EAAaC,aAAb,IAA8BV,QAAQ,CAAa,EAAb,CAA5C;EAEAD,SAAS,CAAC,MAAM;IACfY,aAAa;EACb,CAFQ,EAEN,CAACL,MAAD,EAASD,OAAT,CAFM,CAAT;;EAIA,MAAMM,aAAa,GAAG,YAAY;IACjC,IAAI;MACH,IACC,CAACL,MAAD,IACA,CAACA,MAAM,CAACM,SADR,IAEA,CAACN,MAAM,CAACO,mBAFR,IAGA,CAACP,MAAM,CAACQ,eAJT,EAKE;QACD;MACA;;MACDX,QAAQ,CAAC,0BAAD,CAAR;MACAK,sBAAsB,CAAC,IAAD,CAAtB;MACA,MAAMO,YAAY,GAAG,MAAMd,gBAAgB,CAACK,MAAM,CAACM,SAAR,CAA3C,CAXG,CAYH;;MACAI,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCF,YAAvC;MACAL,aAAa,CAACK,YAAD,CAAb;MACAP,sBAAsB,CAAC,KAAD,CAAtB;IACA,CAhBD,CAiBA,OAAOU,GAAP,EAAY;MACXF,OAAO,CAACC,GAAR,CAAYC,GAAZ;IACA;EACD,CArBD;;EAuBA,OAAO;IAAEX,mBAAF;IAAuBE,UAAvB;IAAmCC,aAAnC;IAAkDC;EAAlD,CAAP;AACA,CAlCD;;GAAMP,a;UACaF,gB,EACHJ,S;;;AAkChB,eAAeM,aAAf"},"metadata":{},"sourceType":"module"}