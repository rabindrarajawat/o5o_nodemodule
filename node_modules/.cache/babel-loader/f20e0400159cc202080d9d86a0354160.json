{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createUpdateRateInterestBearingMintInstruction = exports.createInitializeInterestBearingMintInstruction = exports.interestBearingMintUpdateRateInstructionData = exports.interestBearingMintInitializeInstructionData = exports.InterestBearingMintInstruction = void 0;\n\nconst buffer_layout_1 = require(\"@solana/buffer-layout\");\n\nconst buffer_layout_utils_1 = require(\"@solana/buffer-layout-utils\");\n\nconst web3_js_1 = require(\"@solana/web3.js\");\n\nconst constants_js_1 = require(\"../../constants.js\");\n\nconst internal_js_1 = require(\"../../instructions/internal.js\");\n\nconst types_js_1 = require(\"../../instructions/types.js\");\n\nvar InterestBearingMintInstruction;\n\n(function (InterestBearingMintInstruction) {\n  InterestBearingMintInstruction[InterestBearingMintInstruction[\"Initialize\"] = 0] = \"Initialize\";\n  InterestBearingMintInstruction[InterestBearingMintInstruction[\"UpdateRate\"] = 1] = \"UpdateRate\";\n})(InterestBearingMintInstruction = exports.InterestBearingMintInstruction || (exports.InterestBearingMintInstruction = {}));\n\nexports.interestBearingMintInitializeInstructionData = (0, buffer_layout_1.struct)([(0, buffer_layout_1.u8)('instruction'), (0, buffer_layout_1.u8)('interestBearingMintInstruction'), // TODO: Make this an optional public key\n(0, buffer_layout_utils_1.publicKey)('rateAuthority'), (0, buffer_layout_1.s16)('rate')]);\nexports.interestBearingMintUpdateRateInstructionData = (0, buffer_layout_1.struct)([(0, buffer_layout_1.u8)('instruction'), (0, buffer_layout_1.u8)('interestBearingMintInstruction'), (0, buffer_layout_1.s16)('rate')]);\n/**\n * Construct an InitializeInterestBearingMint instruction\n *\n * @param mint           Mint to initialize\n * @param rateAuthority  The public key for the account that can update the rate\n * @param rate           The initial interest rate\n * @param programId      SPL Token program account\n *\n * @return Instruction to add to a transaction\n */\n\nfunction createInitializeInterestBearingMintInstruction(mint, rateAuthority, rate) {\n  let programId = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : constants_js_1.TOKEN_2022_PROGRAM_ID;\n  const keys = [{\n    pubkey: mint,\n    isSigner: false,\n    isWritable: true\n  }];\n  const data = Buffer.alloc(exports.interestBearingMintInitializeInstructionData.span);\n  exports.interestBearingMintInitializeInstructionData.encode({\n    instruction: types_js_1.TokenInstruction.InterestBearingMintExtension,\n    interestBearingMintInstruction: InterestBearingMintInstruction.Initialize,\n    rateAuthority,\n    rate\n  }, data);\n  return new web3_js_1.TransactionInstruction({\n    keys,\n    programId,\n    data\n  });\n}\n\nexports.createInitializeInterestBearingMintInstruction = createInitializeInterestBearingMintInstruction;\n/**\n * Construct an UpdateRateInterestBearingMint instruction\n *\n * @param mint           Mint to initialize\n * @param rateAuthority  The public key for the account that can update the rate\n * @param rate           The updated interest rate\n * @param multiSigners   Signing accounts if `rateAuthority` is a multisig\n * @param programId      SPL Token program account\n *\n * @return Instruction to add to a transaction\n */\n\nfunction createUpdateRateInterestBearingMintInstruction(mint, rateAuthority, rate) {\n  let multiSigners = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n  let programId = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : constants_js_1.TOKEN_2022_PROGRAM_ID;\n  const keys = (0, internal_js_1.addSigners)([{\n    pubkey: mint,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: rateAuthority,\n    isSigner: !multiSigners.length,\n    isWritable: false\n  }], rateAuthority, multiSigners);\n  const data = Buffer.alloc(exports.interestBearingMintUpdateRateInstructionData.span);\n  exports.interestBearingMintUpdateRateInstructionData.encode({\n    instruction: types_js_1.TokenInstruction.InterestBearingMintExtension,\n    interestBearingMintInstruction: InterestBearingMintInstruction.UpdateRate,\n    rate\n  }, data);\n  return new web3_js_1.TransactionInstruction({\n    keys,\n    programId,\n    data\n  });\n}\n\nexports.createUpdateRateInterestBearingMintInstruction = createUpdateRateInterestBearingMintInstruction;","map":{"version":3,"sources":["../../../../src/extensions/interestBearingMint/instructions.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createUpdateRateInterestBearingMintInstruction = exports.createInitializeInterestBearingMintInstruction = exports.interestBearingMintUpdateRateInstructionData = exports.interestBearingMintInitializeInstructionData = exports.InterestBearingMintInstruction = void 0;\nconst buffer_layout_1 = require(\"@solana/buffer-layout\");\nconst buffer_layout_utils_1 = require(\"@solana/buffer-layout-utils\");\nconst web3_js_1 = require(\"@solana/web3.js\");\nconst constants_js_1 = require(\"../../constants.js\");\nconst internal_js_1 = require(\"../../instructions/internal.js\");\nconst types_js_1 = require(\"../../instructions/types.js\");\nvar InterestBearingMintInstruction;\n(function (InterestBearingMintInstruction) {\n    InterestBearingMintInstruction[InterestBearingMintInstruction[\"Initialize\"] = 0] = \"Initialize\";\n    InterestBearingMintInstruction[InterestBearingMintInstruction[\"UpdateRate\"] = 1] = \"UpdateRate\";\n})(InterestBearingMintInstruction = exports.InterestBearingMintInstruction || (exports.InterestBearingMintInstruction = {}));\nexports.interestBearingMintInitializeInstructionData = (0, buffer_layout_1.struct)([\n    (0, buffer_layout_1.u8)('instruction'),\n    (0, buffer_layout_1.u8)('interestBearingMintInstruction'),\n    // TODO: Make this an optional public key\n    (0, buffer_layout_utils_1.publicKey)('rateAuthority'),\n    (0, buffer_layout_1.s16)('rate'),\n]);\nexports.interestBearingMintUpdateRateInstructionData = (0, buffer_layout_1.struct)([\n    (0, buffer_layout_1.u8)('instruction'),\n    (0, buffer_layout_1.u8)('interestBearingMintInstruction'),\n    (0, buffer_layout_1.s16)('rate'),\n]);\n/**\n * Construct an InitializeInterestBearingMint instruction\n *\n * @param mint           Mint to initialize\n * @param rateAuthority  The public key for the account that can update the rate\n * @param rate           The initial interest rate\n * @param programId      SPL Token program account\n *\n * @return Instruction to add to a transaction\n */\nfunction createInitializeInterestBearingMintInstruction(mint, rateAuthority, rate, programId = constants_js_1.TOKEN_2022_PROGRAM_ID) {\n    const keys = [{ pubkey: mint, isSigner: false, isWritable: true }];\n    const data = Buffer.alloc(exports.interestBearingMintInitializeInstructionData.span);\n    exports.interestBearingMintInitializeInstructionData.encode({\n        instruction: types_js_1.TokenInstruction.InterestBearingMintExtension,\n        interestBearingMintInstruction: InterestBearingMintInstruction.Initialize,\n        rateAuthority,\n        rate,\n    }, data);\n    return new web3_js_1.TransactionInstruction({ keys, programId, data });\n}\nexports.createInitializeInterestBearingMintInstruction = createInitializeInterestBearingMintInstruction;\n/**\n * Construct an UpdateRateInterestBearingMint instruction\n *\n * @param mint           Mint to initialize\n * @param rateAuthority  The public key for the account that can update the rate\n * @param rate           The updated interest rate\n * @param multiSigners   Signing accounts if `rateAuthority` is a multisig\n * @param programId      SPL Token program account\n *\n * @return Instruction to add to a transaction\n */\nfunction createUpdateRateInterestBearingMintInstruction(mint, rateAuthority, rate, multiSigners = [], programId = constants_js_1.TOKEN_2022_PROGRAM_ID) {\n    const keys = (0, internal_js_1.addSigners)([\n        { pubkey: mint, isSigner: false, isWritable: true },\n        { pubkey: rateAuthority, isSigner: !multiSigners.length, isWritable: false },\n    ], rateAuthority, multiSigners);\n    const data = Buffer.alloc(exports.interestBearingMintUpdateRateInstructionData.span);\n    exports.interestBearingMintUpdateRateInstructionData.encode({\n        instruction: types_js_1.TokenInstruction.InterestBearingMintExtension,\n        interestBearingMintInstruction: InterestBearingMintInstruction.UpdateRate,\n        rate,\n    }, data);\n    return new web3_js_1.TransactionInstruction({ keys, programId, data });\n}\nexports.createUpdateRateInterestBearingMintInstruction = createUpdateRateInterestBearingMintInstruction;\n//# sourceMappingURL=instructions.js.map"]},"metadata":{},"sourceType":"script"}