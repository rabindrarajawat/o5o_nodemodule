{"ast":null,"code":"import React, { useLayoutEffect, useRef } from 'react';\nexport const Collapse = _ref => {\n  let {\n    id,\n    children,\n    expanded = false\n  } = _ref;\n  const ref = useRef(null);\n  const instant = useRef(true);\n  const transition = 'height 250ms ease-out';\n\n  const openCollapse = () => {\n    const node = ref.current;\n    if (!node) return;\n    requestAnimationFrame(() => {\n      node.style.height = node.scrollHeight + 'px';\n    });\n  };\n\n  const closeCollapse = () => {\n    const node = ref.current;\n    if (!node) return;\n    requestAnimationFrame(() => {\n      node.style.height = node.offsetHeight + 'px';\n      node.style.overflow = 'hidden';\n      requestAnimationFrame(() => {\n        node.style.height = '0';\n      });\n    });\n  };\n\n  useLayoutEffect(() => {\n    if (expanded) {\n      openCollapse();\n    } else {\n      closeCollapse();\n    }\n  }, [expanded]);\n  useLayoutEffect(() => {\n    const node = ref.current;\n    if (!node) return;\n\n    function handleComplete() {\n      if (!node) return;\n      node.style.overflow = expanded ? 'initial' : 'hidden';\n\n      if (expanded) {\n        node.style.height = 'auto';\n      }\n    }\n\n    function handleTransitionEnd(event) {\n      if (node && event.target === node && event.propertyName === 'height') {\n        handleComplete();\n      }\n    }\n\n    if (instant.current) {\n      handleComplete();\n      instant.current = false;\n    }\n\n    node.addEventListener('transitionend', handleTransitionEnd);\n    return () => node.removeEventListener('transitionend', handleTransitionEnd);\n  }, [expanded]);\n  return React.createElement(\"div\", {\n    children: children,\n    className: \"wallet-adapter-collapse\",\n    id: id,\n    ref: ref,\n    role: \"region\",\n    style: {\n      height: 0,\n      transition: instant.current ? undefined : transition\n    }\n  });\n};","map":{"version":3,"mappings":"AAAA,OAAOA,KAAP,IAAoBC,eAApB,EAAqCC,MAArC,QAAmD,OAAnD;AAOA,OAAO,MAAMC,QAAQ,GAAsB,QAAuC;EAAA,IAAtC;IAAEC,EAAF;IAAMC,QAAN;IAAgBC,QAAQ,GAAG;EAA3B,CAAsC;EAC9E,MAAMC,GAAG,GAAGL,MAAM,CAAiB,IAAjB,CAAlB;EACA,MAAMM,OAAO,GAAGN,MAAM,CAAC,IAAD,CAAtB;EACA,MAAMO,UAAU,GAAG,uBAAnB;;EAEA,MAAMC,YAAY,GAAG,MAAK;IACtB,MAAMC,IAAI,GAAGJ,GAAG,CAACK,OAAjB;IACA,IAAI,CAACD,IAAL,EAAW;IAEXE,qBAAqB,CAAC,MAAK;MACvBF,IAAI,CAACG,KAAL,CAAWC,MAAX,GAAoBJ,IAAI,CAACK,YAAL,GAAoB,IAAxC;IACH,CAFoB,CAArB;EAGH,CAPD;;EASA,MAAMC,aAAa,GAAG,MAAK;IACvB,MAAMN,IAAI,GAAGJ,GAAG,CAACK,OAAjB;IACA,IAAI,CAACD,IAAL,EAAW;IAEXE,qBAAqB,CAAC,MAAK;MACvBF,IAAI,CAACG,KAAL,CAAWC,MAAX,GAAoBJ,IAAI,CAACO,YAAL,GAAoB,IAAxC;MACAP,IAAI,CAACG,KAAL,CAAWK,QAAX,GAAsB,QAAtB;MACAN,qBAAqB,CAAC,MAAK;QACvBF,IAAI,CAACG,KAAL,CAAWC,MAAX,GAAoB,GAApB;MACH,CAFoB,CAArB;IAGH,CANoB,CAArB;EAOH,CAXD;;EAaAd,eAAe,CAAC,MAAK;IACjB,IAAIK,QAAJ,EAAc;MACVI,YAAY;IACf,CAFD,MAEO;MACHO,aAAa;IAChB;EACJ,CANc,EAMZ,CAACX,QAAD,CANY,CAAf;EAQAL,eAAe,CAAC,MAAK;IACjB,MAAMU,IAAI,GAAGJ,GAAG,CAACK,OAAjB;IACA,IAAI,CAACD,IAAL,EAAW;;IAEX,SAASS,cAAT,GAAuB;MACnB,IAAI,CAACT,IAAL,EAAW;MAEXA,IAAI,CAACG,KAAL,CAAWK,QAAX,GAAsBb,QAAQ,GAAG,SAAH,GAAe,QAA7C;;MACA,IAAIA,QAAJ,EAAc;QACVK,IAAI,CAACG,KAAL,CAAWC,MAAX,GAAoB,MAApB;MACH;IACJ;;IAED,SAASM,mBAAT,CAA6BC,KAA7B,EAAmD;MAC/C,IAAIX,IAAI,IAAIW,KAAK,CAACC,MAAN,KAAiBZ,IAAzB,IAAiCW,KAAK,CAACE,YAAN,KAAuB,QAA5D,EAAsE;QAClEJ,cAAc;MACjB;IACJ;;IAED,IAAIZ,OAAO,CAACI,OAAZ,EAAqB;MACjBQ,cAAc;MACdZ,OAAO,CAACI,OAAR,GAAkB,KAAlB;IACH;;IAEDD,IAAI,CAACc,gBAAL,CAAsB,eAAtB,EAAuCJ,mBAAvC;IACA,OAAO,MAAMV,IAAI,CAACe,mBAAL,CAAyB,eAAzB,EAA0CL,mBAA1C,CAAb;EACH,CA1Bc,EA0BZ,CAACf,QAAD,CA1BY,CAAf;EA4BA,OACIN;IACIK,QAAQ,EAAEA,QADd;IAEIsB,SAAS,EAAC,yBAFd;IAGIvB,EAAE,EAAEA,EAHR;IAIIG,GAAG,EAAEA,GAJT;IAKIqB,IAAI,EAAC,QALT;IAMId,KAAK,EAAE;MAAEC,MAAM,EAAE,CAAV;MAAaN,UAAU,EAAED,OAAO,CAACI,OAAR,GAAkBiB,SAAlB,GAA8BpB;IAAvD;EANX,EADJ;AAUH,CAzEM","names":["React","useLayoutEffect","useRef","Collapse","id","children","expanded","ref","instant","transition","openCollapse","node","current","requestAnimationFrame","style","height","scrollHeight","closeCollapse","offsetHeight","overflow","handleComplete","handleTransitionEnd","event","target","propertyName","addEventListener","removeEventListener","className","role","undefined"],"sourceRoot":"","sources":["../src/Collapse.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}