{"ast":null,"code":"import { SystemProgram, TransactionInstruction } from '@solana/web3.js';\nimport { ASSOCIATED_TOKEN_PROGRAM_ID, TOKEN_PROGRAM_ID } from '../constants.js';\n/**\n * Construct a CreateAssociatedTokenAccount instruction\n *\n * @param payer                    Payer of the initialization fees\n * @param associatedToken          New associated token account\n * @param owner                    Owner of the new account\n * @param mint                     Token mint account\n * @param programId                SPL Token program account\n * @param associatedTokenProgramId SPL Associated Token program account\n *\n * @return Instruction to add to a transaction\n */\n\nexport function createAssociatedTokenAccountInstruction(payer, associatedToken, owner, mint) {\n  let programId = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : TOKEN_PROGRAM_ID;\n  let associatedTokenProgramId = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : ASSOCIATED_TOKEN_PROGRAM_ID;\n  return buildAssociatedTokenAccountInstruction(payer, associatedToken, owner, mint, Buffer.alloc(0), programId, associatedTokenProgramId);\n}\n/**\n * Construct a CreateAssociatedTokenAccountIdempotent instruction\n *\n * @param payer                    Payer of the initialization fees\n * @param associatedToken          New associated token account\n * @param owner                    Owner of the new account\n * @param mint                     Token mint account\n * @param programId                SPL Token program account\n * @param associatedTokenProgramId SPL Associated Token program account\n *\n * @return Instruction to add to a transaction\n */\n\nexport function createAssociatedTokenAccountIdempotentInstruction(payer, associatedToken, owner, mint) {\n  let programId = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : TOKEN_PROGRAM_ID;\n  let associatedTokenProgramId = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : ASSOCIATED_TOKEN_PROGRAM_ID;\n  return buildAssociatedTokenAccountInstruction(payer, associatedToken, owner, mint, Buffer.from([1]), programId, associatedTokenProgramId);\n}\n\nfunction buildAssociatedTokenAccountInstruction(payer, associatedToken, owner, mint, instructionData) {\n  let programId = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : TOKEN_PROGRAM_ID;\n  let associatedTokenProgramId = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : ASSOCIATED_TOKEN_PROGRAM_ID;\n  const keys = [{\n    pubkey: payer,\n    isSigner: true,\n    isWritable: true\n  }, {\n    pubkey: associatedToken,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: owner,\n    isSigner: false,\n    isWritable: false\n  }, {\n    pubkey: mint,\n    isSigner: false,\n    isWritable: false\n  }, {\n    pubkey: SystemProgram.programId,\n    isSigner: false,\n    isWritable: false\n  }, {\n    pubkey: programId,\n    isSigner: false,\n    isWritable: false\n  }];\n  return new TransactionInstruction({\n    keys,\n    programId: associatedTokenProgramId,\n    data: instructionData\n  });\n}","map":{"version":3,"sources":["../../../src/instructions/associatedTokenAccount.ts"],"names":[],"mappings":"AACA,SAAS,aAAT,EAAwB,sBAAxB,QAAsD,iBAAtD;AACA,SAAS,2BAAT,EAAsC,gBAAtC,QAA8D,iBAA9D;AAEA;;;;;;;;;;;AAWG;;AACH,OAAM,SAAU,uCAAV,CACF,KADE,EAEF,eAFE,EAGF,KAHE,EAIF,IAJE,EAMoD;EAAA,IADtD,SACsD,uEAD1C,gBAC0C;EAAA,IAAtD,wBAAsD,uEAA3B,2BAA2B;EAEtD,OAAO,sCAAsC,CACzC,KADyC,EAEzC,eAFyC,EAGzC,KAHyC,EAIzC,IAJyC,EAKzC,MAAM,CAAC,KAAP,CAAa,CAAb,CALyC,EAMzC,SANyC,EAOzC,wBAPyC,CAA7C;AASH;AAED;;;;;;;;;;;AAWG;;AACH,OAAM,SAAU,iDAAV,CACF,KADE,EAEF,eAFE,EAGF,KAHE,EAIF,IAJE,EAMoD;EAAA,IADtD,SACsD,uEAD1C,gBAC0C;EAAA,IAAtD,wBAAsD,uEAA3B,2BAA2B;EAEtD,OAAO,sCAAsC,CACzC,KADyC,EAEzC,eAFyC,EAGzC,KAHyC,EAIzC,IAJyC,EAKzC,MAAM,CAAC,IAAP,CAAY,CAAC,CAAD,CAAZ,CALyC,EAMzC,SANyC,EAOzC,wBAPyC,CAA7C;AASH;;AAED,SAAS,sCAAT,CACI,KADJ,EAEI,eAFJ,EAGI,KAHJ,EAII,IAJJ,EAKI,eALJ,EAO0D;EAAA,IADtD,SACsD,uEAD1C,gBAC0C;EAAA,IAAtD,wBAAsD,uEAA3B,2BAA2B;EAEtD,MAAM,IAAI,GAAG,CACT;IAAE,MAAM,EAAE,KAAV;IAAiB,QAAQ,EAAE,IAA3B;IAAiC,UAAU,EAAE;EAA7C,CADS,EAET;IAAE,MAAM,EAAE,eAAV;IAA2B,QAAQ,EAAE,KAArC;IAA4C,UAAU,EAAE;EAAxD,CAFS,EAGT;IAAE,MAAM,EAAE,KAAV;IAAiB,QAAQ,EAAE,KAA3B;IAAkC,UAAU,EAAE;EAA9C,CAHS,EAIT;IAAE,MAAM,EAAE,IAAV;IAAgB,QAAQ,EAAE,KAA1B;IAAiC,UAAU,EAAE;EAA7C,CAJS,EAKT;IAAE,MAAM,EAAE,aAAa,CAAC,SAAxB;IAAmC,QAAQ,EAAE,KAA7C;IAAoD,UAAU,EAAE;EAAhE,CALS,EAMT;IAAE,MAAM,EAAE,SAAV;IAAqB,QAAQ,EAAE,KAA/B;IAAsC,UAAU,EAAE;EAAlD,CANS,CAAb;EASA,OAAO,IAAI,sBAAJ,CAA2B;IAC9B,IAD8B;IAE9B,SAAS,EAAE,wBAFmB;IAG9B,IAAI,EAAE;EAHwB,CAA3B,CAAP;AAKH","sourceRoot":"","sourcesContent":["import { SystemProgram, TransactionInstruction } from '@solana/web3.js';\nimport { ASSOCIATED_TOKEN_PROGRAM_ID, TOKEN_PROGRAM_ID } from '../constants.js';\n/**\n * Construct a CreateAssociatedTokenAccount instruction\n *\n * @param payer                    Payer of the initialization fees\n * @param associatedToken          New associated token account\n * @param owner                    Owner of the new account\n * @param mint                     Token mint account\n * @param programId                SPL Token program account\n * @param associatedTokenProgramId SPL Associated Token program account\n *\n * @return Instruction to add to a transaction\n */\nexport function createAssociatedTokenAccountInstruction(payer, associatedToken, owner, mint, programId = TOKEN_PROGRAM_ID, associatedTokenProgramId = ASSOCIATED_TOKEN_PROGRAM_ID) {\n    return buildAssociatedTokenAccountInstruction(payer, associatedToken, owner, mint, Buffer.alloc(0), programId, associatedTokenProgramId);\n}\n/**\n * Construct a CreateAssociatedTokenAccountIdempotent instruction\n *\n * @param payer                    Payer of the initialization fees\n * @param associatedToken          New associated token account\n * @param owner                    Owner of the new account\n * @param mint                     Token mint account\n * @param programId                SPL Token program account\n * @param associatedTokenProgramId SPL Associated Token program account\n *\n * @return Instruction to add to a transaction\n */\nexport function createAssociatedTokenAccountIdempotentInstruction(payer, associatedToken, owner, mint, programId = TOKEN_PROGRAM_ID, associatedTokenProgramId = ASSOCIATED_TOKEN_PROGRAM_ID) {\n    return buildAssociatedTokenAccountInstruction(payer, associatedToken, owner, mint, Buffer.from([1]), programId, associatedTokenProgramId);\n}\nfunction buildAssociatedTokenAccountInstruction(payer, associatedToken, owner, mint, instructionData, programId = TOKEN_PROGRAM_ID, associatedTokenProgramId = ASSOCIATED_TOKEN_PROGRAM_ID) {\n    const keys = [\n        { pubkey: payer, isSigner: true, isWritable: true },\n        { pubkey: associatedToken, isSigner: false, isWritable: true },\n        { pubkey: owner, isSigner: false, isWritable: false },\n        { pubkey: mint, isSigner: false, isWritable: false },\n        { pubkey: SystemProgram.programId, isSigner: false, isWritable: false },\n        { pubkey: programId, isSigner: false, isWritable: false },\n    ];\n    return new TransactionInstruction({\n        keys,\n        programId: associatedTokenProgramId,\n        data: instructionData,\n    });\n}\n//# sourceMappingURL=associatedTokenAccount.js.map"]},"metadata":{},"sourceType":"module"}