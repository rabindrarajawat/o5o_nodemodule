{"ast":null,"code":"import { TOKEN_PROGRAM_ID, MINT_SIZE, ACCOUNT_SIZE } from '@solana/spl-token';\nimport { GpaBuilder } from '../../utils/GpaBuilder.mjs';\n\nclass MintGpaBuilder extends GpaBuilder {\n  constructor(metaplex, programId) {\n    super(metaplex, programId ?? TOKEN_PROGRAM_ID);\n    this.whereSize(MINT_SIZE);\n  }\n\n  whereDoesntHaveMintAuthority() {\n    return this.where(0, 0);\n  }\n\n  whereHasMintAuthority() {\n    return this.where(0, 1);\n  }\n\n  whereMintAuthority(mintAuthority) {\n    return this.whereHasMintAuthority().where(4, mintAuthority);\n  }\n\n  whereSupply(supply) {\n    return this.where(36, supply);\n  } // TODO(loris): Map the rest of the layout.\n  // https://github.com/solana-labs/solana-program-library/blob/master/token/js/src/state/mint.ts#L43\n\n\n}\n\nclass TokenGpaBuilder extends GpaBuilder {\n  constructor(metaplex, programId) {\n    super(metaplex, programId ?? TOKEN_PROGRAM_ID);\n    this.whereSize(ACCOUNT_SIZE);\n  }\n\n  selectMint() {\n    return this.slice(0, 32);\n  }\n\n  whereMint(mint) {\n    return this.where(0, mint);\n  }\n\n  selectOwner() {\n    return this.slice(32, 32);\n  }\n\n  whereOwner(owner) {\n    return this.where(32, owner);\n  }\n\n  selectAmount() {\n    return this.slice(64, 8);\n  }\n\n  whereAmount(amount) {\n    return this.where(64, amount);\n  }\n\n  whereDoesntHaveDelegate() {\n    return this.where(72, 0);\n  }\n\n  whereHasDelegate() {\n    return this.where(72, 1);\n  }\n\n  whereDelegate(delegate) {\n    return this.whereHasDelegate().where(76, delegate);\n  } // TODO(loris): Map the rest of the layout.\n  // https://github.com/solana-labs/solana-program-library/blob/master/token/js/src/state/account.ts#L59\n\n\n}\n\nexport { MintGpaBuilder, TokenGpaBuilder };","map":{"version":3,"sources":["../../../../src/plugins/tokenModule/gpaBuilders.ts"],"names":["MintGpaBuilder","GpaBuilder","constructor","metaplex","programId","TOKEN_PROGRAM_ID","whereSize","MINT_SIZE","whereDoesntHaveMintAuthority","where","whereHasMintAuthority","whereMintAuthority","mintAuthority","whereSupply","supply","TokenGpaBuilder","ACCOUNT_SIZE","selectMint","slice","whereMint","mint","selectOwner","whereOwner","owner","selectAmount","whereAmount","amount","whereDoesntHaveDelegate","whereHasDelegate","whereDelegate","delegate"],"mappings":";;;AAMO,MAAMA,cAAN,SAA6BC,UAA7B,CAAwC;EAC7CC,WAAW,CAACC,QAAD,EAAqBC,SAArB,EAA4C;IACrD,MAAMD,QAAN,EAAgBC,SAAS,IAAIC,gBAA7B;IACA,KAAKC,SAAL,CAAeC,SAAf;EACF;;EAEAC,4BAA4B,GAAG;IAC7B,OAAO,KAAKC,KAAL,CAAW,CAAX,EAAc,CAAd,CAAP;EACF;;EAEAC,qBAAqB,GAAG;IACtB,OAAO,KAAKD,KAAL,CAAW,CAAX,EAAc,CAAd,CAAP;EACF;;EAEAE,kBAAkB,CAACC,aAAD,EAA2B;IAC3C,OAAO,KAAKF,qBAAL,GAA6BD,KAA7B,CAAmC,CAAnC,EAAsCG,aAAtC,CAAP;EACF;;EAEAC,WAAW,CAACC,MAAD,EAA6B;IACtC,OAAO,KAAKL,KAAL,CAAW,EAAX,EAAeK,MAAf,CAAP;EACF,CApB6C,CAsB7C;EACA;;;AAvB6C;;AA0BxC,MAAMC,eAAN,SAA8Bd,UAA9B,CAAyC;EAC9CC,WAAW,CAACC,QAAD,EAAqBC,SAArB,EAA4C;IACrD,MAAMD,QAAN,EAAgBC,SAAS,IAAIC,gBAA7B;IACA,KAAKC,SAAL,CAAeU,YAAf;EACF;;EAEAC,UAAU,GAAG;IACX,OAAO,KAAKC,KAAL,CAAW,CAAX,EAAc,EAAd,CAAP;EACF;;EAEAC,SAAS,CAACC,IAAD,EAAkB;IACzB,OAAO,KAAKX,KAAL,CAAW,CAAX,EAAcW,IAAd,CAAP;EACF;;EAEAC,WAAW,GAAG;IACZ,OAAO,KAAKH,KAAL,CAAW,EAAX,EAAe,EAAf,CAAP;EACF;;EAEAI,UAAU,CAACC,KAAD,EAAmB;IAC3B,OAAO,KAAKd,KAAL,CAAW,EAAX,EAAec,KAAf,CAAP;EACF;;EAEAC,YAAY,GAAG;IACb,OAAO,KAAKN,KAAL,CAAW,EAAX,EAAe,CAAf,CAAP;EACF;;EAEAO,WAAW,CAACC,MAAD,EAA6B;IACtC,OAAO,KAAKjB,KAAL,CAAW,EAAX,EAAeiB,MAAf,CAAP;EACF;;EAEAC,uBAAuB,GAAG;IACxB,OAAO,KAAKlB,KAAL,CAAW,EAAX,EAAe,CAAf,CAAP;EACF;;EAEAmB,gBAAgB,GAAG;IACjB,OAAO,KAAKnB,KAAL,CAAW,EAAX,EAAe,CAAf,CAAP;EACF;;EAEAoB,aAAa,CAACC,QAAD,EAAsB;IACjC,OAAO,KAAKF,gBAAL,GAAwBnB,KAAxB,CAA8B,EAA9B,EAAkCqB,QAAlC,CAAP;EACF,CAxC8C,CA0C9C;EACA;;;AA3C8C","sourcesContent":["import { PublicKey } from '@solana/web3.js';\nimport { MINT_SIZE, ACCOUNT_SIZE, TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { Metaplex } from '@/Metaplex';\nimport { GpaBuilder } from '@/utils';\nimport { BigNumber } from '@/types';\n\nexport class MintGpaBuilder extends GpaBuilder {\n  constructor(metaplex: Metaplex, programId?: PublicKey) {\n    super(metaplex, programId ?? TOKEN_PROGRAM_ID);\n    this.whereSize(MINT_SIZE);\n  }\n\n  whereDoesntHaveMintAuthority() {\n    return this.where(0, 0);\n  }\n\n  whereHasMintAuthority() {\n    return this.where(0, 1);\n  }\n\n  whereMintAuthority(mintAuthority: PublicKey) {\n    return this.whereHasMintAuthority().where(4, mintAuthority);\n  }\n\n  whereSupply(supply: number | BigNumber) {\n    return this.where(36, supply);\n  }\n\n  // TODO(loris): Map the rest of the layout.\n  // https://github.com/solana-labs/solana-program-library/blob/master/token/js/src/state/mint.ts#L43\n}\n\nexport class TokenGpaBuilder extends GpaBuilder {\n  constructor(metaplex: Metaplex, programId?: PublicKey) {\n    super(metaplex, programId ?? TOKEN_PROGRAM_ID);\n    this.whereSize(ACCOUNT_SIZE);\n  }\n\n  selectMint() {\n    return this.slice(0, 32);\n  }\n\n  whereMint(mint: PublicKey) {\n    return this.where(0, mint);\n  }\n\n  selectOwner() {\n    return this.slice(32, 32);\n  }\n\n  whereOwner(owner: PublicKey) {\n    return this.where(32, owner);\n  }\n\n  selectAmount() {\n    return this.slice(64, 8);\n  }\n\n  whereAmount(amount: number | BigNumber) {\n    return this.where(64, amount);\n  }\n\n  whereDoesntHaveDelegate() {\n    return this.where(72, 0);\n  }\n\n  whereHasDelegate() {\n    return this.where(72, 1);\n  }\n\n  whereDelegate(delegate: PublicKey) {\n    return this.whereHasDelegate().where(76, delegate);\n  }\n\n  // TODO(loris): Map the rest of the layout.\n  // https://github.com/solana-labs/solana-program-library/blob/master/token/js/src/state/account.ts#L59\n}\n"]},"metadata":{},"sourceType":"module"}