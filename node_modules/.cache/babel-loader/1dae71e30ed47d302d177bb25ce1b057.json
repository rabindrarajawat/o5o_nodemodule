{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { useWallet } from '@solana/wallet-adapter-react';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Button } from './Button';\nimport { useWalletModal } from './useWalletModal';\nimport { WalletConnectButton } from './WalletConnectButton';\nimport { WalletIcon } from './WalletIcon';\nimport { WalletModalButton } from './WalletModalButton';\nexport const WalletMultiButton = _a => {\n  var {\n    children\n  } = _a,\n      props = __rest(_a, [\"children\"]);\n\n  const {\n    publicKey,\n    wallet,\n    disconnect\n  } = useWallet();\n  const {\n    setVisible\n  } = useWalletModal();\n  const [copied, setCopied] = useState(false);\n  const [active, setActive] = useState(false);\n  const ref = useRef(null);\n  const base58 = useMemo(() => publicKey === null || publicKey === void 0 ? void 0 : publicKey.toBase58(), [publicKey]);\n  const content = useMemo(() => {\n    if (children) return children;\n    if (!wallet || !base58) return null;\n    return base58.slice(0, 4) + '..' + base58.slice(-4);\n  }, [children, wallet, base58]);\n  const copyAddress = useCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n    if (base58) {\n      yield navigator.clipboard.writeText(base58);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 400);\n    }\n  }), [base58]);\n  const openDropdown = useCallback(() => setActive(true), [setActive]);\n  const closeDropdown = useCallback(() => setActive(false), [setActive]);\n  const openModal = useCallback(() => {\n    setVisible(true);\n    closeDropdown();\n  }, [setVisible, closeDropdown]);\n  useEffect(() => {\n    const listener = event => {\n      const node = ref.current; // Do nothing if clicking dropdown or its descendants\n\n      if (!node || node.contains(event.target)) return;\n      closeDropdown();\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return () => {\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, closeDropdown]);\n  if (!wallet) return React.createElement(WalletModalButton, Object.assign({}, props), children);\n  if (!base58) return React.createElement(WalletConnectButton, Object.assign({}, props), children);\n  return React.createElement(\"div\", {\n    className: \"wallet-adapter-dropdown\"\n  }, React.createElement(Button, Object.assign({\n    \"aria-expanded\": active,\n    className: \"wallet-adapter-button-trigger\",\n    style: Object.assign({\n      pointerEvents: active ? 'none' : 'auto'\n    }, props.style),\n    onClick: openDropdown,\n    startIcon: React.createElement(WalletIcon, {\n      wallet: wallet\n    })\n  }, props), content), React.createElement(\"ul\", {\n    \"aria-label\": \"dropdown-list\",\n    className: `wallet-adapter-dropdown-list ${active && 'wallet-adapter-dropdown-list-active'}`,\n    ref: ref,\n    role: \"menu\"\n  }, React.createElement(\"li\", {\n    onClick: copyAddress,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, copied ? 'Copied' : 'Copy address'), React.createElement(\"li\", {\n    onClick: openModal,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, \"Connect a different wallet\"), React.createElement(\"li\", {\n    onClick: disconnect,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, \"Disconnect\")));\n};","map":{"version":3,"mappings":"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","names":["useWallet","React","useCallback","useEffect","useMemo","useRef","useState","Button","useWalletModal","WalletConnectButton","WalletIcon","WalletModalButton","WalletMultiButton","_a","children","props","publicKey","wallet","disconnect","setVisible","copied","setCopied","active","setActive","ref","base58","toBase58","content","slice","copyAddress","__awaiter","navigator","clipboard","writeText","setTimeout","openDropdown","closeDropdown","openModal","listener","event","node","current","contains","target","document","addEventListener","removeEventListener","Object","className","style","pointerEvents","onClick","startIcon","role"],"sourceRoot":"","sources":["../src/WalletMultiButton.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}