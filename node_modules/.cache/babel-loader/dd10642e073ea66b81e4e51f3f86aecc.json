{"ast":null,"code":"import { SystemProgram } from '@solana/web3.js';\nimport { SystemClient } from './SystemClient.mjs';\nimport { createAccountOperation, createAccountOperationHandler } from './operations/createAccount.mjs';\nimport { transferSolOperation, transferSolOperationHandler } from './operations/transferSol.mjs';\n/**\n * @group Plugins\n */\n\n/** @group Plugins */\n\nconst systemModule = () => ({\n  install(metaplex) {\n    // Program.\n    const systemProgram = {\n      name: 'SystemProgram',\n      address: SystemProgram.programId\n    };\n    metaplex.programs().register(systemProgram);\n\n    metaplex.programs().getSystem = function (programs) {\n      return this.get(systemProgram.name, programs);\n    }; // Operations.\n\n\n    const op = metaplex.operations();\n    op.register(createAccountOperation, createAccountOperationHandler);\n    op.register(transferSolOperation, transferSolOperationHandler);\n\n    metaplex.system = function () {\n      return new SystemClient(this);\n    };\n  }\n\n});\n\nexport { systemModule };","map":{"version":3,"sources":["../../../../src/plugins/systemModule/plugin.ts"],"names":["systemModule","install","metaplex","systemProgram","name","address","SystemProgram","programId","programs","register","getSystem","get","op","operations","createAccountOperation","createAccountOperationHandler","transferSolOperation","transferSolOperationHandler","system","SystemClient"],"mappings":";;;;AAYA;AACA;AACA;;AACA;;AACO,MAAMA,YAAY,GAAG,OAAuB;EACjDC,OAAO,CAACC,QAAD,EAAqB;IAC1B;IACA,MAAMC,aAAa,GAAG;MACpBC,IAAI,EAAE,eADc;MAEpBC,OAAO,EAAEC,aAAa,CAACC;IAFH,CAAtB;IAIAL,QAAQ,CAACM,QAATN,GAAoBO,QAApBP,CAA6BC,aAA7BD;;IACAA,QAAQ,CAACM,QAATN,GAAoBQ,SAApBR,GAAgC,UAE9BM,QAF8B,EAG9B;MACA,OAAO,KAAKG,GAAL,CAASR,aAAa,CAACC,IAAvB,EAA6BI,QAA7B,CAAP;IACD,CALDN,CAP0B,CAc1B;;;IACA,MAAMU,EAAE,GAAGV,QAAQ,CAACW,UAATX,EAAX;IACAU,EAAE,CAACH,QAAHG,CAAYE,sBAAZF,EAAoCG,6BAApCH;IACAA,EAAE,CAACH,QAAHG,CAAYI,oBAAZJ,EAAkCK,2BAAlCL;;IAEAV,QAAQ,CAACgB,MAAThB,GAAkB,YAAY;MAC5B,OAAO,IAAIiB,YAAJ,CAAiB,IAAjB,CAAP;IACD,CAFDjB;EAGF;;AAvBiD,CAAvB,CAArB","sourcesContent":["import { SystemProgram } from '@solana/web3.js';\nimport { ProgramClient } from '../programModule';\nimport {\n  createAccountOperation,\n  createAccountOperationHandler,\n  transferSolOperation,\n  transferSolOperationHandler,\n} from './operations';\nimport { SystemClient } from './SystemClient';\nimport type { MetaplexPlugin, Program } from '@/types';\nimport type { Metaplex } from '@/Metaplex';\n\n/**\n * @group Plugins\n */\n/** @group Plugins */\nexport const systemModule = (): MetaplexPlugin => ({\n  install(metaplex: Metaplex) {\n    // Program.\n    const systemProgram = {\n      name: 'SystemProgram',\n      address: SystemProgram.programId,\n    };\n    metaplex.programs().register(systemProgram);\n    metaplex.programs().getSystem = function (\n      this: ProgramClient,\n      programs?: Program[]\n    ) {\n      return this.get(systemProgram.name, programs);\n    };\n\n    // Operations.\n    const op = metaplex.operations();\n    op.register(createAccountOperation, createAccountOperationHandler);\n    op.register(transferSolOperation, transferSolOperationHandler);\n\n    metaplex.system = function () {\n      return new SystemClient(this);\n    };\n  },\n});\n\ndeclare module '../../Metaplex' {\n  interface Metaplex {\n    system(): SystemClient;\n  }\n}\n\ndeclare module '../programModule/ProgramClient' {\n  interface ProgramClient {\n    getSystem(programs?: Program[]): Program;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}